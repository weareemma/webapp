import{a8 as B,r as b,ap as D,C as S,o as k,e as z,w as o,I as l,b as e,a as i,S as d,X as C}from"./app.45a2e0de.js";const I=d(" Aggiungi pagamento "),N={class:"space-y-2"},x=d("Data"),Y=d("Importo"),w=d("Mezzo di pagamento"),M=d(" Salva "),P={__name:"BookingPaymentDialog",props:{bookingId:Number,date:{type:String,default:B().format("YYYY-MM-DD")},method:{type:String,default:"cash"},amount:{type:Number,default:null},modelValue:Boolean},emits:["update:modelValue","finish"],setup(f,{emit:c}){const n=f,u=b(null),m=b(!1),t=D({date:n.date,method:n.method,amount:n.amount});S(()=>{u.value&&(n.modelValue?u.value.open():u.value.close())});function g(){m.value=!0,C.Inertia.post(route("booking.paid",n.bookingId),t,{preserveScroll:!0,preserveState:!0,onSuccess:v=>{c("update:modelValue",!1),c("finish")},onFinish:()=>m.value=!1})}return(v,a)=>{const p=l("bb-label"),_=l("bb-input"),r=l("bb-input-validation"),V=l("bb-select"),h=l("BbButton"),y=l("BbDialog");return k(),z(y,{ref_key:"paidDialog",ref:u,type:"plain",size:"sm"},{title:o(()=>[I]),buttons:o(()=>[e(h,{disabled:m.value,onClick:g},{default:o(()=>[M]),_:1},8,["disabled"])]),default:o(()=>[i("div",N,[i("div",null,[e(p,null,{default:o(()=>[x]),_:1}),e(_,{type:"date",modelValue:t.date,"onUpdate:modelValue":a[0]||(a[0]=s=>t.date=s)},null,8,["modelValue"]),e(r,{name:"date"})]),i("div",null,[e(p,null,{default:o(()=>[Y]),_:1}),e(_,{type:"number",modelValue:t.amount,"onUpdate:modelValue":a[1]||(a[1]=s=>t.amount=s)},null,8,["modelValue"]),e(r,{name:"amount"})]),i("div",null,[e(p,null,{default:o(()=>[w]),_:1}),e(V,{mode:"single",placeholder:"Seleziona il mezzo di pagamento","close-on-select":!0,options:{cash:"Contanti",card:"Carta",satispay:"Satispay"},modelValue:t.method,"onUpdate:modelValue":a[2]||(a[2]=s=>t.method=s)},null,8,["modelValue"]),e(r,{name:"method"})])])]),_:1},512)}}};export{P as default};
