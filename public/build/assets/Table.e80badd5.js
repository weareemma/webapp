import{o as n,e as l,b,f as A,_ as L,c as o,a8 as B,at as N,au as P,a4 as j,g as E,r as U,B as q,a as m,L as d,q as k,J as w,Q as I,K as $,S as K,a5 as O,O as J,w as Q,I as p}from"./app.45a2e0de.js";import{r as G}from"./PencilIcon.9b9a523e.js";import{r as W}from"./RefreshIcon.76168562.js";import{r as X}from"./CheckIcon.b71d4ea3.js";function Z(e,f){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[b("path",{"fill-rule":"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414zm-6 0a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 1.414L5.414 10l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})])}function x(e,f){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[b("path",{"fill-rule":"evenodd",d:"M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z","clip-rule":"evenodd"}),b("path",{"fill-rule":"evenodd",d:"M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}function ee(e,f){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[b("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})])}function ne(e,f){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[b("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),b("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})])}function te(e,f){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[b("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})])}function re(e,f){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[b("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})])}function le(e,f){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})])}const oe=A({emits:["update:modelValue"],props:{checked:{type:[Array,Boolean],default:!1},modelValue:{default:null},disabled:{type:Boolean,default:!1}},computed:{proxyChecked:{get(){return this.modelValue?this.modelValue:this.checked},set(e){this.$emit("update:checked",e)}}}}),ae=["checked","disabled"];function se(e,f,y,s,v,r){return n(),o("input",{type:"radio",checked:e.proxyChecked,disabled:e.disabled,onInput:f[0]||(f[0]=c=>e.$emit("update:modelValue",c.target.checked)),class:"rounded-full h-5 w-5 border-gray-300 text-bb-primary shadow-sm cursor-pointer disabled:bg-bb-gray-200 disabled:hover:bg-bb-gray-200 disabled:opacity-75 focus:border-bb-primary-300 focus:ring focus:ring-bb-primary-200 focus:ring-opacity-50"},null,40,ae)}var ce=L(oe,[["render",se]]);function ie(){function e(r){return{left:r!="right"&&r!="center",right:r=="right",center:r=="center"}}function f(r,c){return typeof r=="string"?{[r]:!0}:typeof r=="function"?r(c):{}}function y(r,c){return c.includes(".")?s(r,c.split(".")):r[c]}function s(r,c){try{const i=c[0];if(c.length==1)return r[i];if(i=="*"&&Array.isArray(r)){const u=[];for(let h=0;h<r.length;h++)u.push(s(r[h],c.slice(1)));return u.join(", ")}return s(r[i],c.slice(1))}catch{return null}}function v(r,c){if(r===null)return"-";switch(c){case"currency":return`${new Intl.NumberFormat("it-IT").format(r)} \u20AC`;case"date":return B(r).format("DD/MM/YYYY");case"datetime":return B(r).format("DD/MM/YYYY HH:mm");case"active":return r?'<span class="block h-4 w-4 rounded-full bg-bb-green-300 ring-0 ring-white"></span>':'<span class="block h-4 w-4 rounded-full bg-bb-red-400 ring-0 ring-white"></span>';default:return r}}return{getCellAlignment:e,getClasses:f,getData:y,getFormattedData:v}}const de=A({components:{BbCheckbox:N,BbRadio:ce,EyeIcon:ne,PencilIcon:G,TrashIcon:P,UserIcon:re,LoginIcon:le,ChevronDoubleLeftIcon:Z,ChevronDoubleRightIcon:x,DownloadIcon:ee,Link:j,PlusIcon:te,RefreshIcon:W,CheckIcon:X},props:{collection:{type:Array,required:!0},columns:{type:Array,required:!0},links:{type:[Array,null],default:null},actions:{type:[Array,null],default:null},compact:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},selectableSingle:{type:Boolean,default:!1},selectableCondition:{type:[Function,null],default:null},selection:{type:[Array,Object,null],default:null}},emits:["update:selection","action"],setup(e,{emit:f}){const y=E(()=>{const i=[];if(!e.actions)return i;for(let u=0;u<e.actions.length;u++){const h=e.actions[u];if(typeof h=="object"){if(!1 in h||!1 in h)continue;i.push(h)}else i.push({name:h,condition:()=>!0})}return i}),s=U(e.selection);q(s,()=>{f("update:selection",s.value)});function v(i){if(s.value=[],i.target.checked){if(e.selectableCondition)return s.value=e.collection.filter(u=>e.selectableCondition(u));s.value=[...e.collection]}}function r(i){return e.selectableSingle?s.value==i:s.value.includes(i)}function c(i,u){if(e.selectableSingle)return i.target.checked?s.value=u:s.value=null;if(i.target.checked)return s.value.push(u);const h=s.value.findIndex(C=>C===u);h>-1&&s.value.splice(h,1)}return{...ie(),filteredActions:y,checkedItems:s,toggleCheckAll:v,itemIsChecked:r,checkItem:c}}}),ue={class:"table-container"},he={key:0,class:"check"},fe={key:1},pe={key:0,class:"check"},be=["title","innerHTML"],ge={key:1},ke={class:"actions"},me=["onClick"],ye={key:0,class:"empty"},ve=m("h2",{class:"title-md text-bb-gray-500"}," Nessun elemento ",-1),we=[ve],Ie={key:0,class:"links"},Ce={key:2};function _e(e,f,y,s,v,r){const c=p("bb-checkbox"),i=p("bb-radio"),u=p("LoginIcon"),h=p("EyeIcon"),C=p("PencilIcon"),M=p("UserIcon"),z=p("TrashIcon"),V=p("DownloadIcon"),S=p("PlusIcon"),T=p("RefreshIcon"),H=p("CheckIcon"),R=p("ChevronDoubleLeftIcon"),Y=p("ChevronDoubleRightIcon"),F=p("Link");return n(),o("div",{class:I(["bb-table",{compact:e.compact}])},[m("div",ue,[m("table",null,[m("thead",null,[m("tr",null,[e.selectable&&(e.selection||e.selectableSingle)?(n(),o("th",he,[e.selectableSingle?d("",!0):(n(),l(c,{key:0,checked:e.collection.length==e.checkedItems.length,onInput:e.toggleCheckAll},null,8,["checked","onInput"]))])):d("",!0),(n(!0),o(k,null,w(e.columns,(a,g)=>(n(),o("th",{key:g,class:I({...e.getCellAlignment(a.align)})},$(a.label),3))),128)),e.filteredActions.length?(n(),o("th",fe)):d("",!0)])]),m("tbody",null,[(n(!0),o(k,null,w(e.collection,(a,g)=>{var D;return n(),o("tr",{key:(D=a.id)!=null?D:`idx-${g}`},[e.selectable&&(e.selection||e.selectableSingle)?(n(),o("td",pe,[e.selectableSingle?(n(),l(i,{key:0,name:"bb-table-radio",disabled:e.selectableCondition?!e.selectableCondition(a):!1,checked:e.itemIsChecked(a),onInput:t=>e.checkItem(t,a)},null,8,["disabled","checked","onInput"])):(n(),l(c,{key:1,disabled:e.selectableCondition?!e.selectableCondition(a):!1,checked:e.itemIsChecked(a),onInput:t=>e.checkItem(t,a)},null,8,["disabled","checked","onInput"]))])):d("",!0),(n(!0),o(k,null,w(e.columns,(t,_)=>(n(),o("td",{key:_,class:I({...e.getCellAlignment(t.align),...e.getClasses(t.classes,a)})},["key"in t?(n(),o("span",{key:0,title:e.getFormattedData(e.getData(a,t.key),t.format),innerHTML:e.getFormattedData(e.getData(a,t.key),t.format)},null,8,be)):"computed"in t?(n(),o(k,{key:1},[K($(t.computed(a)),1)],64)):O(e.$slots,t.slot,{key:2,item:a,index:g,column:t,columnIndex:_})],2))),128)),e.filteredActions.length?(n(),o("td",ge,[m("div",ke,[(n(!0),o(k,null,w(e.filteredActions,t=>(n(),o(k,{key:t},[!t.condition||t.condition(a)?(n(),o("button",{key:0,class:I(t.name),onClick:_=>e.$emit("action",{action:t.name,item:a})},[t.icon?(n(),l(J(t.icon),{key:0})):(n(),o(k,{key:1},[t.name=="go"?(n(),l(u,{key:0,class:"rotate-180"})):d("",!0),t.name=="restore"?(n(),l(u,{key:1})):d("",!0),t.name=="view"?(n(),l(h,{key:2})):d("",!0),t.name=="edit"?(n(),l(C,{key:3})):d("",!0),t.name=="impersonate"?(n(),l(M,{key:4})):d("",!0),t.name=="delete"?(n(),l(z,{key:5})):d("",!0),t.name=="download"?(n(),l(V,{key:6})):d("",!0),t.name=="markAsRead"?(n(),l(h,{key:7})):d("",!0),t.name=="wizard"?(n(),l(S,{key:8})):d("",!0),t.name=="refund"?(n(),l(T,{key:9})):d("",!0),t.name=="resolve"?(n(),l(H,{key:10})):d("",!0)],64))],10,me)):d("",!0)],64))),128))])])):d("",!0)])}),128))])]),e.collection.length?d("",!0):(n(),o("div",ye,we))]),e.links&&e.links.length>3?(n(),o("div",Ie,[(n(!0),o(k,null,w(e.links,(a,g)=>(n(),l(F,{key:g,class:I({active:a.active}),href:a.url,"preserve-state":"","preserve-scroll":""},{default:Q(()=>[g==0?(n(),l(R,{key:0,class:"h-3 w-3"})):g==e.links.length-1?(n(),l(Y,{key:1,class:"h-3 w-3"})):(n(),o("span",Ce,$(a.label),1))]),_:2},1032,["class","href"]))),128))])):d("",!0)],2)}var Le=L(de,[["render",_e]]);export{Le as B,ee as r};
