import{a9 as C,r as v,o as m,e as le,w as n,a as s,b as t,U as l,c as p,Y as f,L as G,J as R,K as W,au as se,q as Z,S as a,X as L,I as y}from"./app.45a2e0de.js";import{_ as ne}from"./AppLayout.f8630d45.js";import{s as N}from"./VueTimepikcer.esm.048f18c4.js";import{B as q}from"./Table.e80badd5.js";import"./Logo.1cde1930.js";import"./wizardStore.ef397de9.js";import"./menu.365b37e7.js";import"./ChevronDownIcon.ec8df155.js";import"./CheckIcon.b71d4ea3.js";import"./XIcon.52e671f8.js";import"./PencilIcon.9b9a523e.js";import"./RefreshIcon.76168562.js";const ie={class:"flex justify-start items-center mt-4 mb-6"},ae={class:"bb-card py-5 px-5"},de={class:"text-bb-blue-500 mb-4 big-header-title"},re={key:0},ue={key:1},me={class:"grid grid-cols-1 sm:grid-cols-2 gap-x-5 gap-y-4"},ce=a("Nome"),pe=a("Indirizzo"),be=a("Telefono"),_e=a("Email"),fe=a("Postazioni lavaggio"),ye=a("Postazioni piega"),ge=a("Store Managers"),ve=a("Codice Tanda"),he={class:"sm:col-span-2 flex justify-start items-center"},ke=a("Visibile"),Ve={class:"flex justify-end items-center mt-4"},xe={key:0},Te={key:1},Me={key:0,class:"bb-card py-5 px-5 mt-4"},we={class:"flex justify-between items-center"},Se=s("div",null,[s("h1",{class:"text-bb-blue-500 big-header-title mb-0"},"Orari"),s("p",null,"Gestisci gli orari dello store")],-1),De=a(" Aggiungi "),Ue={class:"mt-5"},ze={key:1,class:"bb-card py-5 px-5 mt-4"},je={class:"flex justify-between items-center"},Ae=s("div",null,[s("h1",{class:"text-bb-blue-500 big-header-title mb-0"}," Giorni di chiusura "),s("p",null,"Gestisci i giorni di chiusura dello store")],-1),Ce=a(" Aggiungi "),Ne={class:"mt-5"},Oe={key:2,class:"bb-card py-5 px-5 mt-4 mb-7"},Fe={class:"flex justify-between items-center"},Be=s("div",null,[s("h1",{class:"text-bb-blue-500 big-header-title mb-0"}," Orari eccezionali "),s("p",null,"Imposta orari di apertura straordinari")],-1),Ee=a(" Aggiungi "),$e={class:"mt-5"},Ie={class:"big-header-title text-bb-blue-500"},Pe={key:0},Ge={key:1},Le={class:"grid grid-cols-1 gap-x-5 gap-y-4"},qe=a("Giorno"),Je={class:"flex justify-between items-center gap-x-2 gap-y-3"},Ke=s("label",null,"Da ",-1),Xe=s("span",null," a ",-1),Ye=a("+ Aggiungi fascia"),He=a("Note"),Qe=a(" Aggiungi "),Re={class:"big-header-title text-bb-blue-500"},We={key:0},Ze={key:1},et={class:"grid grid-cols-1 gap-x-5 gap-y-4"},tt=a("Data inizio"),ot=a("Data fine"),lt=a("Note"),st=a(" Aggiungi "),nt={class:"big-header-title text-bb-blue-500"},it={key:0},at={key:1},dt={class:"grid grid-cols-1 gap-x-5 gap-y-4"},rt=a("Data"),ut={class:"flex justify-between items-center gap-x-2 gap-y-3"},mt=s("label",null,"Da ",-1),ct=s("span",null," a ",-1),pt=a("+ Aggiungi fascia"),bt=a("Note"),_t=a(" Aggiungi "),ft=a(" Elimina orario "),yt=s("span",null,"Sei sicuro?",-1),gt=a(" Elimina "),vt=a(" Elimina giorno di chiusura "),ht=s("span",null,"Sei sicuro?",-1),kt=a(" Elimina "),Vt=a(" Elimina orario eccezionale "),xt=s("span",null,"Sei sicuro?",-1),Tt=a(" Elimina "),Bt={__name:"Form",props:{store:Object,openingTimes:Object,exceptionalTimes:Object,closingDays:Object,managers:Object,openingTime:Object,exceptionalTime:Object,closingDay:Object,days:Object},setup(g){const D=g,i=C("store",{...D.store}),u=C("closing",D.closingDay),r=C("exceptional",D.exceptionalTime),d=C("opening",D.openingTime),U=v(null),z=v(null),j=v(null),O=v(null),F=v(null),B=v(null),J=v(null),K=v(null),X=v(null);function A(_){switch(_){case"st":i.id?i.put(route("store.update",i.id),{preserveScroll:!0,onSuccess:e=>{f.flash(e.props.flash)}}):i.post(route("store.store"),{preserveScroll:!0,onSuccess:e=>{f.flash(e.props.flash)}});break;case"et":r.id?r.put(route("exceptionalTime.update",r.id),{preserveScroll:!0,onSuccess:e=>{f.flash(e.props.flash),z.value.close()}}):r.post(route("exceptionalTime.store"),{preserveScroll:!0,onSuccess:e=>{f.flash(e.props.flash),z.value.close()}});break;case"ot":d.id?d.put(route("openingTime.update",d.id),{preserveScroll:!0,onSuccess:e=>{f.flash(e.props.flash),j.value.close()}}):d.post(route("openingTime.store"),{preserveScroll:!0,onSuccess:e=>{f.flash(e.props.flash),j.value.close()}});break;case"cd":u.id?u.put(route("closingDay.update",u.id),{preserveScroll:!0,onSuccess:e=>{f.flash(e.props.flash),U.value.close()}}):u.post(route("closingDay.store"),{preserveScroll:!0,onSuccess:e=>{f.flash(e.props.flash),U.value.close()}});break}}function x(_,e=null){switch(ee(_),_){case"cd":console.log(u,e),e&&Object.assign(u,e),u.store_id=i.id,U.value.open();break;case"et":e&&Object.assign(r,e),r.store_id=i.id,z.value.open();break;case"ot":e&&Object.assign(d,e),d.store_id=i.id,j.value.open();break}}function E(_,e,h){switch(_){case"cd":switch(e){case"edit":x("cd",h);break;case"delete":X.value=h,F.value.open();break}break;case"et":switch(e){case"edit":x("et",h);break;case"delete":J.value=h,B.value.open();break}break;case"ot":switch(e){case"edit":x("ot",h);break;case"delete":K.value=h,O.value.open();break}break}}function $(_){switch(_){case"et":L.Inertia.delete(route("exceptionalTime.destroy",J.value.id),{preserveScroll:!0,onSuccess:e=>{B.value.close(),f.flash(e.props.flash)}});break;case"cd":L.Inertia.delete(route("closingDay.destroy",X.value.id),{preserveScroll:!0,onSuccess:e=>{F.value.close(),f.flash(e.props.flash)}});break;case"ot":L.Inertia.delete(route("openingTime.destroy",K.value.id),{preserveScroll:!0,onSuccess:e=>{O.value.close(),f.flash(e.props.flash)}});break}}function Y(_){let e={start_time:"00:00",end_time:"00:00"};switch(_){case"ot":d.slots?d.slots.push(e):d.slots=[e];break;case"et":r.slots?r.slots.push(e):r.slots=[e];break}}function ee(_){switch(_){case"cd":u.reset(),u.clearErrors(),u.id=null;break;case"et":r.reset(),r.clearErrors(),r.id=null;break;case"ot":d.reset(),d.clearErrors(),d.id=null;break}}function te(_,e){switch(e){case"ot":d.slots.splice(_,1);break}}return(_,e)=>{const h=y("bb-back-link"),b=y("bb-label"),V=y("bb-input"),c=y("bb-input-validation"),H=y("bb-select"),oe=y("bb-switch"),S=y("bb-button"),Q=y("Bblink"),I=y("bb-textarea"),T=y("BbButton"),M=y("BbDialog"),P=y("datepicker");return m(),le(ne,{title:"Store","show-title":!1},{default:n(()=>[s("div",ie,[t(h)]),s("div",ae,[s("h1",de,[l(i).id?(m(),p("span",re,"Modifica store")):(m(),p("span",ue,"Aggiungi nuovo store"))]),s("div",me,[s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[ce]),_:1}),t(V,{type:"text",placeholder:"Nome",modelValue:l(i).name,"onUpdate:modelValue":e[0]||(e[0]=o=>l(i).name=o)},null,8,["modelValue"]),t(c,{form:l(i),name:"name"},null,8,["form"])]),s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[pe]),_:1}),t(V,{type:"text",placeholder:"Indirizzo",modelValue:l(i).address,"onUpdate:modelValue":e[1]||(e[1]=o=>l(i).address=o)},null,8,["modelValue"]),t(c,{form:l(i),name:"address"},null,8,["form"])]),s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[be]),_:1}),t(V,{type:"text",placeholder:"Telefono",modelValue:l(i).phone,"onUpdate:modelValue":e[2]||(e[2]=o=>l(i).phone=o)},null,8,["modelValue"]),t(c,{form:l(i),name:"phone"},null,8,["form"])]),s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[_e]),_:1}),t(V,{type:"email",placeholder:"Email",modelValue:l(i).email,"onUpdate:modelValue":e[3]||(e[3]=o=>l(i).email=o)},null,8,["modelValue"]),t(c,{form:l(i),name:"email"},null,8,["form"])]),s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[fe]),_:1}),t(V,{type:"number",placeholder:"Postazioni lavaggio",modelValue:l(i).washing_stations,"onUpdate:modelValue":e[4]||(e[4]=o=>l(i).washing_stations=o)},null,8,["modelValue"]),t(c,{form:l(i),name:"washing_stations"},null,8,["form"])]),s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[ye]),_:1}),t(V,{type:"number",placeholder:"Postazioni piega",modelValue:l(i).style_stations,"onUpdate:modelValue":e[5]||(e[5]=o=>l(i).style_stations=o)},null,8,["modelValue"]),t(c,{form:l(i),name:"style_stations"},null,8,["form"])]),s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[ge]),_:1}),t(H,{mode:"tags",placeholder:"Seleziona i managers","close-on-select":!0,options:g.managers,modelValue:l(i).managers,"onUpdate:modelValue":e[6]||(e[6]=o=>l(i).managers=o)},null,8,["options","modelValue"]),t(c,{form:l(i),name:"managers"},null,8,["form"])]),s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[ve]),_:1}),t(V,{type:"text",placeholder:"Tanda",modelValue:l(i).tanda_code,"onUpdate:modelValue":e[7]||(e[7]=o=>l(i).tanda_code=o),readonly:""},null,8,["modelValue"]),t(c,{form:l(i),name:"tanda_code"},null,8,["form"])]),s("div",he,[t(oe,{modelValue:l(i).visible,"onUpdate:modelValue":e[8]||(e[8]=o=>l(i).visible=o)},null,8,["modelValue"]),t(b,{class:"mb-0 ml-2"},{default:n(()=>[ke]),_:1})])]),s("div",Ve,[t(S,{type:"button",onClick:e[9]||(e[9]=o=>A("st")),disabled:l(i).processing},{default:n(()=>[l(i).id?(m(),p("span",xe,"Salva")):(m(),p("span",Te,"Aggiungi"))]),_:1},8,["disabled"])])]),l(i).id?(m(),p("div",Me,[s("div",we,[Se,t(S,{type:"button",onClick:e[10]||(e[10]=o=>x("ot"))},{default:n(()=>[De]),_:1})]),s("div",Ue,[t(q,{collection:g.openingTimes.data,columns:[{computed:o=>l(f).datetime.weekdayName(o.day),label:"Giorno"},{key:"slots_formatted",label:"Orari"},{key:"note_preview",label:"Note"}],links:g.openingTimes.links,actions:[{name:"edit",condition:o=>!0},{name:"delete",condition:o=>!0}],onAction:e[11]||(e[11]=o=>E("ot",o.action,o.item))},null,8,["collection","columns","links","actions"])])])):G("",!0),l(i).id?(m(),p("div",ze,[s("div",je,[Ae,t(S,{type:"button",onClick:e[12]||(e[12]=o=>x("cd"))},{default:n(()=>[Ce]),_:1})]),s("div",Ne,[t(q,{collection:g.closingDays.data,columns:[{key:"from",label:"Inizio"},{key:"to",label:"Fine"},{key:"days",label:"N. giorni"},{key:"note_preview",label:"Note"}],links:g.closingDays.links,actions:[{name:"edit",condition:o=>!0},{name:"delete",condition:o=>!0}],onAction:e[13]||(e[13]=o=>E("cd",o.action,o.item))},null,8,["collection","columns","links","actions"])])])):G("",!0),l(i).id?(m(),p("div",Oe,[s("div",Fe,[Be,t(S,{type:"button",onClick:e[14]||(e[14]=o=>x("et"))},{default:n(()=>[Ee]),_:1})]),s("div",$e,[t(q,{collection:g.exceptionalTimes.data,columns:[{key:"date",label:"Data"},{key:"slots_formatted",label:"Orari"},{key:"note_preview",label:"Note"}],links:g.exceptionalTimes.links,actions:[{name:"edit",condition:o=>!0},{name:"delete",condition:o=>!0}],onAction:e[15]||(e[15]=o=>E("et",o.action,o.item))},null,8,["collection","links","actions"])])])):G("",!0),t(M,{ref_key:"openingTimeModal",ref:j,type:"plain",size:"md"},{title:n(()=>[s("h3",Ie,[l(d).id?(m(),p("span",Pe,"Modifica orario")):(m(),p("span",Ge,"Aggiungi orario"))])]),buttons:n(()=>[t(T,{primary:"",onClick:e[19]||(e[19]=o=>A("ot"))},{default:n(()=>[Qe]),_:1})]),default:n(()=>[s("div",Le,[s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[qe]),_:1}),t(H,{mode:"single",placeholder:"Seleziona il giorno","close-on-select":!0,options:g.days,modelValue:l(d).day,"onUpdate:modelValue":e[16]||(e[16]=o=>l(d).day=o)},null,8,["options","modelValue"]),t(c,{form:l(d),name:"day"},null,8,["form"])]),s("div",null,[(m(!0),p(Z,null,R(l(d).slots,(o,w)=>(m(),p("div",{class:"my-5",key:w},[s("label",null,"Fascia #"+W(w+1),1),s("div",Je,[Ke,t(l(N),{modelValue:o.start_time,"onUpdate:modelValue":k=>o.start_time=k,placeholder:"Start Time","minute-interval":15,"manual-input":"","fixed-dropdown-button":"","hide-clear-button":""},null,8,["modelValue","onUpdate:modelValue"]),Xe,t(l(N),{modelValue:o.end_time,"onUpdate:modelValue":k=>o.end_time=k,placeholder:"End Time","minute-interval":15,"manual-input":"","fixed-dropdown-button":"","hide-clear-button":""},null,8,["modelValue","onUpdate:modelValue"]),t(S,{outline:"",danger:"",class:"px-2.5",onClick:k=>te(w,"ot")},{default:n(()=>[t(l(se),{class:"w-4 h-4"})]),_:2},1032,["onClick"])])]))),128)),t(Q,{link:"",onClick:e[17]||(e[17]=o=>Y("ot")),class:"cursor-pointer text-bb-blue-500"},{default:n(()=>[Ye]),_:1}),t(c,{form:l(d),name:"slots"},null,8,["form"])]),s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[He]),_:1}),t(I,{class:"min-h-[180px]",type:"text",modelValue:l(d).note,"onUpdate:modelValue":e[18]||(e[18]=o=>l(d).note=o)},null,8,["modelValue"]),t(c,{form:l(d),name:"note"},null,8,["form"])])])]),_:1},512),t(M,{ref_key:"closingDaysModal",ref:U,type:"plain",size:"md"},{title:n(()=>[s("h3",Re,[l(u).id?(m(),p("span",We,"Modifica giorno di chiusura")):(m(),p("span",Ze,"Aggiungi giorni di chiusura"))])]),buttons:n(()=>[t(T,{primary:"",onClick:e[23]||(e[23]=o=>A("cd"))},{default:n(()=>[st]),_:1})]),default:n(()=>[s("div",et,[s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[tt]),_:1}),t(P,{modelValue:l(u).from,"onUpdate:modelValue":e[20]||(e[20]=o=>l(u).from=o),format:"dd/MM/yyyy",previewFormat:"dd/MM/yyyy",locale:"it-IT",modelType:"dd/MM/yyyy",enableTimePicker:!1,monthNameFormat:"long",autoApply:""},null,8,["modelValue"]),t(c,{form:l(u),name:"from"},null,8,["form"])]),s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[ot]),_:1}),t(P,{modelValue:l(u).to,"onUpdate:modelValue":e[21]||(e[21]=o=>l(u).to=o),format:"dd/MM/yyyy",previewFormat:"dd/MM/yyyy",locale:"it-IT",modelType:"dd/MM/yyyy",enableTimePicker:!1,monthNameFormat:"long",autoApply:""},null,8,["modelValue"]),t(c,{form:l(u),name:"to"},null,8,["form"])]),s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[lt]),_:1}),t(I,{class:"min-h-[180px]",type:"text",modelValue:l(u).note,"onUpdate:modelValue":e[22]||(e[22]=o=>l(u).note=o)},null,8,["modelValue"]),t(c,{form:l(u),name:"note"},null,8,["form"])])])]),_:1},512),t(M,{ref_key:"exceptionalTimeModal",ref:z,type:"plain",size:"md"},{title:n(()=>[s("h3",nt,[l(r).id?(m(),p("span",it,"Modifica orario eccezionale")):(m(),p("span",at,"Aggiungi un orario eccezionale"))])]),buttons:n(()=>[t(T,{primary:"",onClick:e[27]||(e[27]=o=>A("et"))},{default:n(()=>[_t]),_:1})]),default:n(()=>[s("div",dt,[s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[rt]),_:1}),t(P,{modelValue:l(r).date,"onUpdate:modelValue":e[24]||(e[24]=o=>l(r).date=o),format:"dd/MM/yyyy",previewFormat:"dd/MM/yyyy",locale:"it-IT",modelType:"dd/MM/yyyy",enableTimePicker:!1,monthNameFormat:"long",autoApply:""},null,8,["modelValue"]),t(c,{form:l(r),name:"date"},null,8,["form"])]),s("div",null,[(m(!0),p(Z,null,R(l(r).slots,(o,w)=>(m(),p("div",{class:"my-5",key:w},[s("label",null,"Fascia #"+W(w+1),1),s("div",ut,[mt,t(l(N),{modelValue:o.start_time,"onUpdate:modelValue":k=>o.start_time=k,placeholder:"Start Time","minute-interval":15,"manual-input":"","fixed-dropdown-button":"","hide-clear-button":""},null,8,["modelValue","onUpdate:modelValue"]),ct,t(l(N),{modelValue:o.end_time,"onUpdate:modelValue":k=>o.end_time=k,placeholder:"End Time","minute-interval":15,"manual-input":"","fixed-dropdown-button":"","hide-clear-button":""},null,8,["modelValue","onUpdate:modelValue"])])]))),128)),t(Q,{link:"",onClick:e[25]||(e[25]=o=>Y("et")),class:"cursor-pointer text-bb-blue-500"},{default:n(()=>[pt]),_:1}),t(c,{form:l(r),name:"slots"},null,8,["form"])]),s("div",null,[t(b,{class:"mb-1"},{default:n(()=>[bt]),_:1}),t(I,{class:"min-h-[180px]",type:"text",modelValue:l(r).note,"onUpdate:modelValue":e[26]||(e[26]=o=>l(r).note=o)},null,8,["modelValue"]),t(c,{form:l(r),name:"note"},null,8,["form"])])])]),_:1},512),t(M,{ref_key:"openingTimeDeleteModal",ref:O,type:"plain",size:"sm"},{title:n(()=>[ft]),buttons:n(()=>[t(T,{danger:"",onClick:e[28]||(e[28]=o=>$("ot"))},{default:n(()=>[gt]),_:1})]),default:n(()=>[yt]),_:1},512),t(M,{ref_key:"closingDayDeleteModal",ref:F,type:"plain",size:"sm"},{title:n(()=>[vt]),buttons:n(()=>[t(T,{danger:"",onClick:e[29]||(e[29]=o=>$("cd"))},{default:n(()=>[kt]),_:1})]),default:n(()=>[ht]),_:1},512),t(M,{ref_key:"exceptionalTimeDeleteModal",ref:B,type:"plain",size:"sm"},{title:n(()=>[Vt]),buttons:n(()=>[t(T,{danger:"",onClick:e[30]||(e[30]=o=>$("et"))},{default:n(()=>[Tt]),_:1})]),default:n(()=>[xt]),_:1},512)]),_:1})}}};export{Bt as default};
