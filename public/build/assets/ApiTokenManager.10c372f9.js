import{o as i,e as N,w as e,a as s,a5 as x,_ as M,c as r,a9 as b,r as $,b as o,L as h,U as a,q as w,J as C,K as v,Q as A,S as l}from"./app.45a2e0de.js";import{_ as U}from"./ActionMessage.a3d1100b.js";import{_ as z,a as J,b as T}from"./DialogModal.eff80baa.js";import{_ as S}from"./Button.ef41f357.js";import{_ as W}from"./DangerButton.0196a043.js";import{_ as q}from"./FormSection.1eca2177.js";import{_ as E}from"./Input.0b9361ed.js";import{_ as B}from"./Checkbox.b9165bc2.js";import{_ as K}from"./InputError.dc7c3f49.js";import{_ as I}from"./Label.704e6f42.js";import{_ as P}from"./SecondaryButton.2c3abc10.js";const Q={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Y={class:"sm:flex sm:items-start"},G=s("div",{class:"mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[s("svg",{class:"h-6 w-6 text-red-600",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1),H={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},O={class:"text-lg"},R={class:"mt-2"},X={class:"flex flex-row justify-end px-6 py-4 bg-gray-100 text-right"},Z={__name:"ConfirmationModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(c,{emit:y}){const d=()=>{y("close")};return(m,k)=>(i(),N(z,{show:c.show,"max-width":c.maxWidth,closeable:c.closeable,onClose:d},{default:e(()=>[s("div",Q,[s("div",Y,[G,s("div",H,[s("h3",O,[x(m.$slots,"title")]),s("div",R,[x(m.$slots,"content")])])])]),s("div",X,[x(m.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},ee={},se={class:"hidden sm:block"},te=s("div",{class:"py-8"},[s("div",{class:"border-t border-gray-200"})],-1),oe=[te];function ne(c,y){return i(),r("div",se,oe)}var le=M(ee,[["render",ne]]);const ae=l(" Create API Token "),ie=l(" API tokens allow third-party services to authenticate with our application on your behalf. "),re={class:"col-span-6 sm:col-span-4"},ce={key:0,class:"col-span-6"},de={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},me={class:"flex items-center"},ue={class:"ml-2 text-sm text-gray-600"},_e=l(" Created. "),pe=l(" Create "),fe={key:0},he={class:"mt-10 sm:mt-0"},ve=l(" Manage API Tokens "),ke=l(" You may delete any of your existing tokens if they are no longer needed. "),ge={class:"space-y-6"},ye={class:"flex items-center"},xe={key:0,class:"text-sm text-gray-400"},be=["onClick"],$e=["onClick"],we=l(" API Token "),Ce=s("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1),Ae={key:0,class:"mt-4 bg-gray-100 px-4 py-2 rounded font-mono text-sm text-gray-500"},Pe=l(" Close "),Te=l(" API Token Permissions "),Se={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Be={class:"flex items-center"},Ie={class:"ml-2 text-sm text-gray-600"},Fe=l(" Cancel "),Ve=l(" Save "),je=l(" Delete API Token "),De=l(" Are you sure you would like to delete this API token? "),Le=l(" Cancel "),Ne=l(" Delete "),He={__name:"ApiTokenManager",props:{tokens:Array,availablePermissions:Array,defaultPermissions:Array},setup(c){const d=b({name:"",permissions:c.defaultPermissions}),m=b({permissions:[]}),k=b(),g=$(!1),_=$(null),p=$(null),F=()=>{d.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{g.value=!0,d.reset()}})},V=u=>{m.permissions=u.abilities,_.value=u},j=()=>{m.put(route("api-tokens.update",_.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>_.value=null})},D=u=>{p.value=u},L=()=>{k.delete(route("api-tokens.destroy",p.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>p.value=null})};return(u,n)=>(i(),r("div",null,[o(q,{onSubmitted:F},{title:e(()=>[ae]),description:e(()=>[ie]),form:e(()=>[s("div",re,[o(I,{for:"name",value:"Name"}),o(E,{id:"name",modelValue:a(d).name,"onUpdate:modelValue":n[0]||(n[0]=t=>a(d).name=t),type:"text",class:"mt-1 block w-full",autofocus:""},null,8,["modelValue"]),o(K,{message:a(d).errors.name,class:"mt-2"},null,8,["message"])]),c.availablePermissions.length>0?(i(),r("div",ce,[o(I,{for:"permissions",value:"Permissions"}),s("div",de,[(i(!0),r(w,null,C(c.availablePermissions,t=>(i(),r("div",{key:t},[s("label",me,[o(B,{checked:a(d).permissions,"onUpdate:checked":n[1]||(n[1]=f=>a(d).permissions=f),value:t},null,8,["checked","value"]),s("span",ue,v(t),1)])]))),128))])])):h("",!0)]),actions:e(()=>[o(U,{on:a(d).recentlySuccessful,class:"mr-3"},{default:e(()=>[_e]),_:1},8,["on"]),o(S,{class:A({"opacity-25":a(d).processing}),disabled:a(d).processing},{default:e(()=>[pe]),_:1},8,["class","disabled"])]),_:1}),c.tokens.length>0?(i(),r("div",fe,[o(le),s("div",he,[o(J,null,{title:e(()=>[ve]),description:e(()=>[ke]),content:e(()=>[s("div",ge,[(i(!0),r(w,null,C(c.tokens,t=>(i(),r("div",{key:t.id,class:"flex items-center justify-between"},[s("div",null,v(t.name),1),s("div",ye,[t.last_used_ago?(i(),r("div",xe," Last used "+v(t.last_used_ago),1)):h("",!0),c.availablePermissions.length>0?(i(),r("button",{key:1,class:"cursor-pointer ml-6 text-sm text-gray-400 underline",onClick:f=>V(t)}," Permissions ",8,be)):h("",!0),s("button",{class:"cursor-pointer ml-6 text-sm text-red-500",onClick:f=>D(t)}," Delete ",8,$e)])]))),128))])]),_:1})])])):h("",!0),o(T,{show:g.value,onClose:n[3]||(n[3]=t=>g.value=!1)},{title:e(()=>[we]),content:e(()=>[Ce,u.$page.props.jetstream.flash.token?(i(),r("div",Ae,v(u.$page.props.jetstream.flash.token),1)):h("",!0)]),footer:e(()=>[o(P,{onClick:n[2]||(n[2]=t=>g.value=!1)},{default:e(()=>[Pe]),_:1})]),_:1},8,["show"]),o(T,{show:_.value!=null,onClose:n[6]||(n[6]=t=>_.value=null)},{title:e(()=>[Te]),content:e(()=>[s("div",Se,[(i(!0),r(w,null,C(c.availablePermissions,t=>(i(),r("div",{key:t},[s("label",Be,[o(B,{checked:a(m).permissions,"onUpdate:checked":n[4]||(n[4]=f=>a(m).permissions=f),value:t},null,8,["checked","value"]),s("span",Ie,v(t),1)])]))),128))])]),footer:e(()=>[o(P,{onClick:n[5]||(n[5]=t=>_.value=null)},{default:e(()=>[Fe]),_:1}),o(S,{class:A(["ml-3",{"opacity-25":a(m).processing}]),disabled:a(m).processing,onClick:j},{default:e(()=>[Ve]),_:1},8,["class","disabled"])]),_:1},8,["show"]),o(Z,{show:p.value!=null,onClose:n[8]||(n[8]=t=>p.value=null)},{title:e(()=>[je]),content:e(()=>[De]),footer:e(()=>[o(P,{onClick:n[7]||(n[7]=t=>p.value=null)},{default:e(()=>[Le]),_:1}),o(W,{class:A(["ml-3",{"opacity-25":a(k).processing}]),disabled:a(k).processing,onClick:L},{default:e(()=>[Ne]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{He as default};
