import{a9 as j,o as i,e as A,w as a,a as n,b as l,U as o,c as u,L as b,Y as _,S as m,I as c}from"./app.45a2e0de.js";import{_ as B}from"./AppLayout.f8630d45.js";import"./Logo.1cde1930.js";import"./wizardStore.ef397de9.js";import"./menu.365b37e7.js";import"./ChevronDownIcon.ec8df155.js";import"./CheckIcon.b71d4ea3.js";import"./XIcon.52e671f8.js";const T={class:"flex justify-start items-center mt-4 mb-6"},E={class:"bb-card py-5 px-5"},P={class:"text-bb-blue-500 mb-4 big-header-title"},R={key:0},q={key:1},z={class:"grid grid-cols-1 sm:grid-cols-2 gap-x-5 gap-y-4"},F=m("Nome"),M=m("Cognome"),O=m("Email"),I=m("Codice fiscale"),L={key:0},Y=m("Password"),$={key:1},D=m("Conferma password"),G=m("Ruolo"),H={key:2},J=m("Stores"),K={key:3,class:"sm:col-span-2"},Q=m("Codice Tanda"),W={key:4},X=m("Afro"),Z={class:"sm:col-span-2 mt-5"},ee={class:"flex justify-start items-center"},oe=m("Attivo"),le={class:"flex justify-end items-center mt-4"},se={key:0},te={key:1},pe={__name:"Form",props:{user:Object,stores:Object},setup(V){const y=V,w={password:null,password_confirmation:null},e=j({...y.user,...w});function h(){return!e.id}function g(){return e.role===_.role_stylist}function k(){return e.role!==_.role_customer}function x(){e.id?e.put(route("user.update",e.id),{preserveScroll:!0,onSuccess:f=>{_.flash(f.props.flash)}}):e.post(route("user.store"),{preserveScroll:!0,onSuccess:f=>{_.flash(f.props.flash)}})}return(f,s)=>{const U=c("bb-back-link"),d=c("bb-label"),p=c("bb-input"),r=c("bb-input-validation"),v=c("bb-select"),C=c("bb-checkbox"),S=c("bb-switch"),N=c("bb-button");return i(),A(B,{title:"Utente","show-title":!1},{default:a(()=>[n("div",T,[l(U,{url:f.route("user.index")},null,8,["url"])]),n("div",E,[n("h1",P,[o(e).id?(i(),u("span",R,"Modifica utente")):(i(),u("span",q,"Aggiungi nuovo utente"))]),n("div",z,[n("div",null,[l(d,{class:"mb-1"},{default:a(()=>[F]),_:1}),l(p,{type:"text",placeholder:"Nome",modelValue:o(e).name,"onUpdate:modelValue":s[0]||(s[0]=t=>o(e).name=t)},null,8,["modelValue"]),l(r,{form:o(e),name:"name"},null,8,["form"])]),n("div",null,[l(d,{class:"mb-1"},{default:a(()=>[M]),_:1}),l(p,{type:"text",placeholder:"Cognome",modelValue:o(e).surname,"onUpdate:modelValue":s[1]||(s[1]=t=>o(e).surname=t)},null,8,["modelValue"]),l(r,{form:o(e),name:"surname"},null,8,["form"])]),n("div",null,[l(d,{class:"mb-1"},{default:a(()=>[O]),_:1}),l(p,{type:"email",placeholder:"Email",modelValue:o(e).email,"onUpdate:modelValue":s[2]||(s[2]=t=>o(e).email=t)},null,8,["modelValue"]),l(r,{form:o(e),name:"email"},null,8,["form"])]),n("div",null,[l(d,{class:"mb-1"},{default:a(()=>[I]),_:1}),l(p,{type:"text",placeholder:"Codice fiscale",modelValue:o(e).fiscal_code,"onUpdate:modelValue":s[3]||(s[3]=t=>o(e).fiscal_code=t),autocomplete:!1},null,8,["modelValue"]),l(r,{form:o(e),name:"fiscal_code"},null,8,["form"])]),h()?b("",!0):(i(),u("div",L,[l(d,{class:"mb-1"},{default:a(()=>[Y]),_:1}),l(p,{type:"password",placeholder:"Password",modelValue:o(e).password,"onUpdate:modelValue":s[4]||(s[4]=t=>o(e).password=t),autocomplete:!1},null,8,["modelValue"]),l(r,{form:o(e),name:"password"},null,8,["form"])])),h()?b("",!0):(i(),u("div",$,[l(d,{class:"mb-1"},{default:a(()=>[D]),_:1}),l(p,{type:"password",placeholder:"Conferma Password",modelValue:o(e).password_confirmation,"onUpdate:modelValue":s[5]||(s[5]=t=>o(e).password_confirmation=t),autocomplete:!1},null,8,["modelValue"]),l(r,{form:o(e),name:"password_confirmation"},null,8,["form"])])),n("div",null,[l(d,{class:"mb-1"},{default:a(()=>[G]),_:1}),l(v,{mode:"single",placeholder:"Seleziona il ruolo","close-on-select":!0,options:o(_).roles,modelValue:o(e).role,"onUpdate:modelValue":s[6]||(s[6]=t=>o(e).role=t)},null,8,["options","modelValue"]),l(r,{form:o(e),name:"role"},null,8,["form"])]),k()?(i(),u("div",H,[l(d,{class:"mb-1"},{default:a(()=>[J]),_:1}),l(v,{mode:"tags",placeholder:"Seleziona gli stores","close-on-select":!0,options:V.stores,modelValue:o(e).stores,"onUpdate:modelValue":s[7]||(s[7]=t=>o(e).stores=t)},null,8,["options","modelValue"]),l(r,{form:o(e),name:"stores"},null,8,["form"])])):b("",!0),g()?(i(),u("div",K,[l(d,{class:"mb-1"},{default:a(()=>[Q]),_:1}),l(p,{type:"text",placeholder:"Tanda",modelValue:o(e).tanda_code,"onUpdate:modelValue":s[8]||(s[8]=t=>o(e).tanda_code=t),readonly:""},null,8,["modelValue"]),l(r,{form:o(e),name:"tanda_code"},null,8,["form"])])):b("",!0),o(e).role===o(_).role_stylist?(i(),u("div",W,[l(d,{class:"mb-1"},{default:a(()=>[X]),_:1}),l(C,{modelValue:o(e).afro,"onUpdate:modelValue":s[9]||(s[9]=t=>o(e).afro=t)},null,8,["modelValue"]),l(r,{form:o(e),name:"afro"},null,8,["form"])])):b("",!0)]),n("div",Z,[n("div",ee,[l(S,{modelValue:o(e).active,"onUpdate:modelValue":s[10]||(s[10]=t=>o(e).active=t)},null,8,["modelValue"]),l(d,{class:"mb-0 ml-2"},{default:a(()=>[oe]),_:1})]),l(r,{form:o(e),name:"active"},null,8,["form"])]),n("div",le,[l(N,{type:"button",onClick:x,disabled:o(e).processing},{default:a(()=>[o(e).id?(i(),u("span",se,"Salva")):(i(),u("span",te,"Aggiungi"))]),_:1},8,["disabled"])])])]),_:1})}}};export{pe as default};
