import{g as y,W as _,o as v,c as V,a as d,K as A,U as a,L as E,r as x,a9 as O,B,V as k,y as P,ar as N,b as e,w as n,a5 as M,S as u,X as $,I as p}from"./app.45a2e0de.js";import{u as j}from"./wizardStore.ef397de9.js";const z={key:0,class:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center"},F=d("div",{class:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"},null,-1),I={class:"text-center text-white text-xl font-semibold"},T=d("p",{class:"w-1/3 text-center text-white"},"Aspetta qualche instante.",-1),D={__name:"LoadingOverlay",props:{isOpen:{type:Boolean,default:!1}},setup(s){const b=y(()=>_().props.value.is_admin),c=y(()=>_().props.value.is_stylist);return(l,f)=>s.isOpen?(v(),V("div",z,[F,d("h2",I,A(a(b)||a(c)?"Elaboro la prenotazione...":"Stiamo elaborando la tua prenotazione..."),1),T])):E("",!0)}},L={class:"bb-card md:px-6 py-5"},R={class:"grid grid-cols-1 gap-y-10 gap-x-0 lg:gap-x-10"},K={class:"flex flex-col gap-y-6 mb-5 col-span-2 order-2"},W={class:"md:col-span-2 flex justify-start items-center"},X=u("Mi serve la fattura"),G={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-x-5 gap-y-4 mb-5 col-span-2"},H=u("Nome"),J=u("Cognome"),Q=u("Codice fiscale"),Y=u("Data di nascita"),Z=u("Telefono"),ee=u("Email"),le=u("Pec"),ae=u("Via"),oe=u("Citt\xE0"),te=u("Provincia"),de=u("CAP"),se=u("Tipologia di soggetto"),ie=u("Codice SDI"),ne=u("Ragione sociale"),ue=u("P. IVA"),me={class:"bb-card py-10 px-10 bg-bb-primary relative order-1"},ce={__name:"CheckoutCharge",props:{user:Object,type:{type:String,default:"charge"},products:Array,totalAmount:Number,stripeKey:String,intent:Object,additionalPayload:Object,disableEdit:{type:Boolean,default:!1},enableLoadingOverlay:{type:Boolean,default:!1}},setup(s){const b=s,c=x(!1),l=O({..._().props.value.fiscal,surname:b.user.surname,username:b.user.name}),f=x(b.totalAmount);B(()=>b.totalAmount,()=>f.value=b.totalAmount),y(()=>b.totalAmount>0);const g=j(),{loading:U}=k(g);P(()=>{l.email=b.user.email}),N(()=>{});function S(){c.value?l.post(route("user.fiscalFile.update"),{preserveScroll:!0,onSuccess:()=>{h()}}):h()}const h=()=>{$.Inertia.post(route("buy"),{total:f.value,type:b.type,additional_payload:b.additionalPayload},{onFinish:()=>{g.loading=!1}})};return(q,o)=>{const C=p("bb-checkbox"),i=p("bb-label"),m=p("bb-input"),r=p("bb-input-validation"),w=p("bb-select");return v(),V("div",L,[e(D,{isOpen:a(U)},null,8,["isOpen"]),d("div",R,[d("div",K,[d("div",W,[e(C,{modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=t=>c.value=t)},null,8,["modelValue"]),e(i,{class:"mx-3"},{default:n(()=>[X]),_:1})]),c.value?(v(),V("div",G,[d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[H]),_:1}),e(m,{type:"text",placeholder:"Mario",modelValue:a(l).username,"onUpdate:modelValue":o[1]||(o[1]=t=>a(l).username=t),disabled:s.disableEdit,required:""},null,8,["modelValue","disabled"]),e(r,{form:a(l),name:"username"},null,8,["form"])]),d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[J]),_:1}),e(m,{type:"text",placeholder:"Bianchi",modelValue:a(l).surname,"onUpdate:modelValue":o[2]||(o[2]=t=>a(l).surname=t),disabled:s.disableEdit,required:""},null,8,["modelValue","disabled"]),e(r,{form:a(l),name:"surname"},null,8,["form"])]),d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[Q]),_:1}),e(m,{type:"text",placeholder:"MROBNC27829290",modelValue:a(l).fiscal_code,"onUpdate:modelValue":o[3]||(o[3]=t=>a(l).fiscal_code=t),disabled:s.disableEdit,required:""},null,8,["modelValue","disabled"]),e(r,{form:a(l),name:"fiscal_code"},null,8,["form"])]),d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[Y]),_:1}),e(m,{type:"date",disabled:s.disableEdit,placeholder:"12/03/83"},null,8,["disabled"])]),d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[Z]),_:1}),e(m,{type:"text",modelValue:a(l).phone,"onUpdate:modelValue":o[4]||(o[4]=t=>a(l).phone=t),disabled:s.disableEdit,placeholder:"+39..."},null,8,["modelValue","disabled"]),e(r,{form:a(l),name:"phone"},null,8,["form"])]),d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[ee]),_:1}),e(m,{type:"email",placeholder:"Email",modelValue:a(l).email,"onUpdate:modelValue":o[5]||(o[5]=t=>a(l).email=t),disabled:s.disableEdit,required:""},null,8,["modelValue","disabled"]),e(r,{form:a(l),name:"email"},null,8,["form"])]),d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[le]),_:1}),e(m,{type:"email",placeholder:"Pec",modelValue:a(l).pec,"onUpdate:modelValue":o[6]||(o[6]=t=>a(l).pec=t),disabled:s.disableEdit},null,8,["modelValue","disabled"]),e(r,{form:a(l),name:"pec"},null,8,["form"])]),d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[ae]),_:1}),e(m,{modelValue:a(l).address,"onUpdate:modelValue":o[7]||(o[7]=t=>a(l).address=t),disabled:s.disableEdit,type:"text",placeholder:"Via Empoli 14",required:""},null,8,["modelValue","disabled"]),e(r,{form:a(l),name:"address"},null,8,["form"])]),d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[oe]),_:1}),e(m,{modelValue:a(l).city,"onUpdate:modelValue":o[8]||(o[8]=t=>a(l).city=t),disabled:s.disableEdit,type:"text",placeholder:"Milano",required:""},null,8,["modelValue","disabled"]),e(r,{form:a(l),name:"city"},null,8,["form"])]),d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[te]),_:1}),e(m,{modelValue:a(l).province,"onUpdate:modelValue":o[9]||(o[9]=t=>a(l).province=t),disabled:s.disableEdit,type:"text",placeholder:"MI",required:""},null,8,["modelValue","disabled"]),e(r,{form:a(l),name:"province"},null,8,["form"])]),d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[de]),_:1}),e(m,{modelValue:a(l).postal_code,"onUpdate:modelValue":o[10]||(o[10]=t=>a(l).postal_code=t),disabled:s.disableEdit,type:"text",placeholder:"19203",required:""},null,8,["modelValue","disabled"]),e(r,{form:a(l),name:"postal_code"},null,8,["form"])]),d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[se]),_:1}),e(w,{modelValue:a(l).business_type,"onUpdate:modelValue":o[11]||(o[11]=t=>a(l).business_type=t),disabled:s.disableEdit,mode:"single",placeholder:"Seleziona la tipologia","close-on-select":!0,options:a(l).available_business_types},null,8,["modelValue","disabled","options"]),e(r,{form:a(l),name:"business_type"},null,8,["form"])]),d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[ie]),_:1}),e(m,{modelValue:a(l).invoice_code,"onUpdate:modelValue":o[12]||(o[12]=t=>a(l).invoice_code=t),disabled:s.disableEdit,type:"text",placeholder:""},null,8,["modelValue","disabled"]),e(r,{form:a(l),name:"invoice_code"},null,8,["form"])]),d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[ne]),_:1}),e(m,{modelValue:a(l).name,"onUpdate:modelValue":o[13]||(o[13]=t=>a(l).name=t),disabled:s.disableEdit,type:"text",placeholder:"",required:""},null,8,["modelValue","disabled"]),e(r,{form:a(l),name:"name"},null,8,["form"])]),d("div",null,[e(i,{class:"mb-1"},{default:n(()=>[ue]),_:1}),e(m,{modelValue:a(l).vat_number,"onUpdate:modelValue":o[14]||(o[14]=t=>a(l).vat_number=t),disabled:s.disableEdit,type:"text",placeholder:"",required:""},null,8,["modelValue","disabled"]),e(r,{form:a(l),name:"vat_number"},null,8,["form"])])])):E("",!0)]),d("div",null,[d("div",me,[M(q.$slots,"summary",{buy:S})])])])])}}};export{D as _,ce as a};
