import{y as H,r as p,g as q,B,o as e,e as z,w as x,a as s,b as c,aM as F,K as a,c as o,J as g,Q as G,q as y,aa as k,ab as w,U as n,a8 as v,L as C,S as P,I as A}from"./app.c248d67c.js";import{_ as J}from"./StylistLayout.8d0f81c6.js";import{r as I,a as E}from"./LocationMarkerIcon.723aad36.js";import{r as S}from"./ArrowCircleRightIcon.e9d6004c.js";import{r as $}from"./ArrowLeftIcon.298de752.js";import"./Logo.d971df1b.js";import"./wizardStore.2226bc2a.js";import"./XIcon.0ce515ba.js";import"./menu.6da08311.js";import"./disclosure.e9de6139.js";const K={class:"mx-auto max-w-7xl sm:px-6 lg:px-8 sm:mt-10"},Q={class:"mx-auto max-w-3xl"},R={class:"text-lg text-bb-gray-800 font-bold my-3"},W=s("div",{class:""},[s("label",{for:"tabs",class:"sr-only"})],-1),X={class:"block"},Z={class:"border-b border-gray-200"},ss={class:"-mb-px flex space-x-8 cursor-pointer","aria-label":"Tabs"},ts=["onClick","aria-current"],es={class:"py-6"},as=["src"],os={class:"grid grid-cols-5 gap-x-2 gap-y-3 items-baseline"},ls=s("p",{class:"text-sm text-bb-gray-700 sm:col-span-1 col-span-2"},"ATTIVO DAL",-1),ns={class:"text-bb-gray-800 inline-block sm:col-span-4 col-span-3"},cs=s("p",{class:"text-sm text-bb-gray-700 sm:col-span-1 col-span-2"},"APP. COMPLESSIVI",-1),is={class:"text-bb-gray-800 inline-block sm:col-span-4 col-span-3"},rs=s("p",{class:"text-sm text-bb-gray-700 sm:col-span-1 col-span-2"},"ULTIMO APP.",-1),ds={class:"text-bb-gray-800 inline-block sm:col-span-4 col-span-3"},bs=s("p",{class:"text-sm text-bb-gray-700 sm:col-span-1 col-span-2"},"ABBONAMENTO",-1),ms={class:"text-bb-gray-800 inline-block sm:col-span-4 col-span-3"},us=s("p",{class:"text-sm text-bb-gray-700 sm:col-span-1 col-span-2"},"PACCHETTI",-1),ps={class:"text-bb-gray-800 inline-block sm:col-span-4 col-span-3"},_s=s("p",{class:"text-sm text-bb-gray-700 sm:col-span-1 col-span-2"},"CODICE SCONTO",-1),hs=s("p",{class:"text-bb-gray-800 inline-block sm:col-span-4 col-span-3"},"Nessun codice sconto",-1),xs={key:0,class:"bb-card-stylist p-5 bg-white mt-8"},gs=s("p",{class:"text-sm text-bb-gray-700"},"NOTE SUL CLIENTE",-1),ys={class:"text-bb-gray-800 inline-block"},vs={class:"bb-card-stylist p-5 bg-white mt-8"},fs=s("p",{class:"text-sm text-bb-gray-700"},"NOTE SUGLI APPUNTAMENTI",-1),ks={class:"text-xs text-bb-gray-600 mt-3"},ws={key:0,class:"text-bb-gray-800 inline-block"},Ms={key:1,class:"text-bb-gray-800 inline-block italic text-xs"},Cs={class:"py-6"},Ys={class:"bb-card-stylist p-4 flex justify-between items-center mb-4"},Ns={class:""},js={class:"text-sm text-bb-gray-600"},Ts={class:"text-md text-bb-gray-800 mb-1"},Os={class:"text-xs text-bb-gray-600 flex items-center gap-1"},Ds=["href"],Bs={key:0,class:"flex justify-end gap-2 items-center"},Ps={class:"py-6"},As={class:"bb-card-stylist p-4 flex justify-between items-center mb-4"},Is={class:""},Es={class:"text-sm text-bb-gray-600"},Ss={class:"text-md text-bb-gray-800 mb-1"},$s={class:"text-xs text-bb-gray-600 flex items-center gap-1"},Ls=["href"],Us={key:0,class:"flex justify-end gap-2 items-center"},Vs={class:"py-6"},Hs={class:"text-sm text-bb-gray-700"},qs={class:"flex justify-start flex-wrap items-center gap-4 my-3"},zs={key:0,class:"flex justify-start flex-wrap items-center gap-4"},Fs=["onClick","src"],Gs={key:1},Js=s("p",{class:"text-bb-gray-800 text-sm"},"Nessuna foto per questo appuntamento",-1),Ks=[Js],Qs={class:"bb-card p-0 overflow-hidden bg-white"},Rs=["src"],it={__name:"Show",props:{customer:Object,packages:Object,bookings:Object,nextBookings:Object,subscription:Object,bookingCount:Number},setup(l){const b=l;H(()=>{helpers.lg(b.customer),helpers.lg(b.packages),helpers.lg(b.bookings),helpers.lg(b.subscription)});const h=[{name:"Info"},{name:"App. Passati"},{name:"App. Futuri"},{name:"Gallery"}],u=p(h[0].name);function L(i){u.value=i}const Y=q(()=>_.map(b.packages,r=>r.name).join("; ")),d=p(0),M=p(b.bookings.slice(d*10,10));B(d,(i,r)=>{M.value=b.bookings.slice(i*10,i*10+10)});const N=p(0),j=p(b.nextBookings.slice(N*10,10));B(N,(i,r)=>{j.value=b.nextBookings.slice(i*10,i*10+10)});const T=p(null),O=p(null);function U(i){O.value=i,T.value.open()}return(i,r)=>{const f=A("bb-button"),V=A("bb-modal");return e(),z(J,{title:"Cliente"},{default:x(()=>{var D;return[s("div",K,[s("div",Q,[c(F),s("h3",R,"Scheda di "+a(l.customer.full_name),1),s("div",null,[W,s("div",X,[s("div",Z,[s("nav",ss,[(e(),o(y,null,g(h,t=>s("p",{onClick:m=>L(t.name),key:t.name,class:G([u.value===t.name?"border-bb-blue-500 text-bb-blue-500":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap pt-4 pb-2 px-1 border-b-4 font-medium text-sm"]),"aria-current":u.value===t.name?"page":void 0},a(t.name),11,ts)),64))])])])]),k(s("div",es,[s("div",null,[s("img",{class:"inline-block h-24 w-24 rounded-full object-cover mb-8",src:l.customer.profile_photo_url,alt:""},null,8,as),s("div",os,[ls,s("p",ns,a(n(v)(l.customer.created_at).format("DD/MM/YYYY")),1),cs,s("p",is,a(l.bookingCount),1),rs,s("p",ds,a(l.customer.last?n(v)((D=l.customer.last)==null?void 0:D.date).format("DD/MM/YYYY"):"Mai"),1),bs,s("p",ms,a(l.subscription?l.subscription.name:"Nessun abbonamento attivo"),1),us,s("p",ps,a(n(Y).length>0?n(Y):"Nessun pacchetto attivo"),1),_s,hs])]),l.customer.last_notes?(e(),o("div",xs,[gs,s("p",ys,a(l.customer.last_notes),1)])):C("",!0),s("div",vs,[fs,(e(!0),o(y,null,g(M.value,t=>(e(),o("div",null,[s("p",ks,"Appuntamento del "+a(n(v)(t.start_date).format("DD/MM/YYYY HH:mm")),1),t.stylist_notes?(e(),o("p",ws,a(t.stylist_notes),1)):(e(),o("p",Ms,"Nessuna nota"))]))),256))])],512),[[w,u.value===h[0].name]]),k(s("div",Cs,[(e(!0),o(y,null,g(M.value,t=>(e(),o("div",Ys,[s("div",Ns,[s("p",js,a(n(v)(t.date).format("dddd D MMMM YYYY"))+" "+a(t.hour_formatted),1),s("p",Ts,a(t.slots.map(m=>m.service.title).join(" + ")),1),s("p",Os,[c(n(I),{class:"h-3 w-3"}),P(" "+a(t.store.name),1)])]),s("div",null,[s("a",{href:i.route("stylist.booking.details",t.id)},[c(n(S),{class:"w-6 h-6"})],8,Ds)])]))),256)),l.bookings.length>10?(e(),o("div",Bs,[c(f,{disabled:d.value===0,onClick:r[0]||(r[0]=t=>d.value--),class:"px-2.5",primary:"",light:""},{default:x(()=>[c(n($),{class:"w-4 h-4"})]),_:1},8,["disabled"]),c(f,{disabled:d.value===Math.floor(l.bookings.length/10),onClick:r[1]||(r[1]=t=>d.value++),class:"px-2.5",primary:"",light:""},{default:x(()=>[c(n(E),{class:"w-4 h-4"})]),_:1},8,["disabled"])])):C("",!0)],512),[[w,u.value===h[1].name]]),k(s("div",Ps,[(e(!0),o(y,null,g(j.value,t=>(e(),o("div",As,[s("div",Is,[s("p",Es,a(n(v)(t.date).format("dddd D MMMM YYYY"))+" "+a(t.hour_formatted),1),s("p",Ss,a(t.slots.map(m=>m.service.title).join(" + ")),1),s("p",$s,[c(n(I),{class:"h-3 w-3"}),P(" "+a(t.store.name),1)])]),s("div",null,[s("a",{href:i.route("stylist.booking.details",t.id)},[c(n(S),{class:"w-6 h-6"})],8,Ls)])]))),256)),l.bookings.length>10?(e(),o("div",Us,[c(f,{disabled:d.value===0,onClick:r[2]||(r[2]=t=>d.value--),class:"px-2.5",primary:"",light:""},{default:x(()=>[c(n($),{class:"w-4 h-4"})]),_:1},8,["disabled"]),c(f,{disabled:d.value===Math.floor(l.bookings.length/10),onClick:r[3]||(r[3]=t=>d.value++),class:"px-2.5",primary:"",light:""},{default:x(()=>[c(n(E),{class:"w-4 h-4"})]),_:1},8,["disabled"])])):C("",!0)],512),[[w,u.value===h[2].name]]),k(s("div",Vs,[(e(!0),o(y,null,g(l.bookings,t=>(e(),o("div",null,[s("p",Hs,a(n(v)(t.date).format("DD/MM/YYYY")),1),s("div",qs,[t.photos.length>0?(e(),o("div",zs,[(e(!0),o(y,null,g(t.photos,m=>(e(),o("img",{onClick:Ws=>U(m.original),key:m.id,class:"inline-block h-24 w-24 rounded-md cursor-pointer",src:m.url.replace(":3000",""),alt:""},null,8,Fs))),128))])):(e(),o("div",Gs,Ks))])]))),256)),c(V,{ref_key:"photoModal",ref:T,size:"md",withClose:!0},{default:x(()=>[s("div",Qs,[s("img",{class:"object-cover",src:O.value},null,8,Rs)])]),_:1},512)],512),[[w,u.value===h[3].name]])])])]}),_:1})}}};export{it as default};
