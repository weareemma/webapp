import{V as $,W as L,B as U,r as j,o as i,c as a,U as t,b as h,w,L as m,q as v,J as f,a as s,e as A,ae as R,I as k,Q as p,K as l,S as g,E as B}from"./app.45a2e0de.js";import{u as W}from"./wizardStore.ef397de9.js";import{r as I}from"./ClockIcon.85a24063.js";const q=s("div",{class:"text-center"}," Seleziona il servizio che desideri prenotare ",-1),G={key:0,class:"flex justify-center gap-2 mb-12 mt-8"},H=g(" Io e le mie amiche prenotiamo servizi diversi "),J={key:1,class:"grid lg:grid-cols-2 gap-6 mb-8 mt-8"},K=["onClick"],M={class:"text-bb-gray-900"},Q={class:"flex items-center justify-between text-white"},O={class:"flex items-center space-x-2"},X={class:"bb-wizard__selectable-card__info"},Y={class:"flex items-center space-x-2"},Z={key:2,class:"flex flex-col justify-center items-center mt-8"},ee={class:"mb-8"},te={class:"sm:hidden"},se=s("label",{for:"tabs",class:"sr-only"},null,-1),ie={id:"tabs",name:"tabs",class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500"},ae=["selected"],ne={class:"hidden sm:block"},re={class:"flex space-x-4","aria-label":"Tabs"},ce=["aria-current","onClick"],le=["onClick"],oe={class:"text-bb-gray-900"},de={class:"flex items-center justify-between text-white"},_e={class:"flex items-center space-x-2"},ue={class:"bb-wizard__selectable-card__info"},me={class:"flex items-center space-x-2"},be={class:"flex justify-center"},ve=g(" Avanti "),fe=g(" Prossima amica "),Ce={__name:"StepPrimaryHairService",setup(pe){B("prev");const N=B("next"),b=W(),{wizardSelection:r,wizardGeneral:x,isValid:z,activeStep:C,people:o,wizardFetchData:xe,wizardResetAddons:he,wizardResetPrimary:ye,ready:T}=$(b),P=L().props.value.primaries_not_included;U(()=>r.value.different_services,(d,_)=>{o.value.forEach(c=>{console.log(c.name),c.primary_service&&(b.wizardResetPrimary(c.name),b.wizardResetAddons(c.name))})}),j(!1);const u=j(0),E=d=>{u.value=d},D=()=>{let d=o.value.findIndex(_=>_.name===u.value)+1;o.value[d]&&(u.value=o.value[d].name)};function S(d,_){o.value.forEach(c=>{(c.name===_||!r.value.different_services)&&(c.primary_service=d,b.wizardResetAddons(c.name),b.wizardFetchData("step_primary_hair_service",{primaryId:d.id,name:_}))})}return(d,_)=>{const c=k("bb-checkbox"),F=k("bb-label"),V=k("bb-button");return i(),a("div",null,[q,t(r).multiple?(i(),a("div",G,[h(c,{modelValue:t(r).different_services,"onUpdate:modelValue":_[0]||(_[0]=e=>t(r).different_services=e)},null,8,["modelValue"]),h(F,{class:"ml-2"},{default:w(()=>[H]),_:1})])):m("",!0),t(r).different_services?m("",!0):(i(),a("div",J,[(i(!0),a(v,null,f(t(x).primaries,e=>{var n;return i(),a("div",{key:e.id,class:p(["bb-wizard__selectable-card",{"bb-wizard__selectable-card--active":((n=t(o)[0].primary_service)==null?void 0:n.id)===e.id}]),onClick:y=>S(e,0)},[s("h3",null,l(e.title),1),s("div",M,l(e.description),1),s("div",Q,[s("div",O,[h(t(I),{class:"w-4 h-4"}),s("div",X,l(e.execution_time_fe)+"'",1)]),s("div",Y,[s("div",{class:p(["bb-wizard__selectable-card__info",!t(r).multiple&&t(x).subscribed&&!t(P).includes(e.title)?"line-through":""])},l(e.net_price)+"\u20AC",3)])])],10,K)}),128))])),t(r).multiple&&t(r).different_services?(i(),a("div",Z,[s("div",ee,[s("div",te,[se,s("select",ie,[(i(!0),a(v,null,f(t(o),e=>(i(),a("option",{key:e.name,selected:e.name===u.value},l(e.name===0?"Tu":"Amica "+e.name),9,ae))),128))])]),s("div",ne,[s("nav",re,[(i(!0),a(v,null,f(t(o),e=>(i(),a("button",{key:e.name,class:p([e.name===u.value?"bg-bb-blue-500 text-white":"text-bb-blue-400 hover:text-bb-blue-700","px-6 py-1.5 font-bold text-sm rounded-full"]),"aria-current":e.name===u.value?"page":void 0,onClick:n=>E(e.name)},l(e.name===0?"Tu":"Amica "+e.name),11,ce))),128))])])]),(i(!0),a(v,null,f(t(o),e=>(i(),a("div",{key:e.name,class:"grid lg:grid-cols-2 gap-6 p-0"},[u.value===e.name?(i(!0),a(v,{key:0},f(t(x).primaries,n=>{var y;return i(),a("div",{key:n.id,class:p(["bb-wizard__selectable-card",{"bb-wizard__selectable-card--active":((y=e.primary_service)==null?void 0:y.id)===n.id}]),onClick:we=>S(n,e.name)},[s("h3",null,l(n.title),1),s("div",oe,l(n.description),1),s("div",de,[s("div",_e,[h(t(I),{class:"w-4 h-4"}),s("div",ue,l(n.execution_time_fe)+"'",1)]),s("div",me,[s("div",{class:p(["bb-wizard__selectable-card__info",e.name===0&&t(x).subscribed&&!t(P).includes(n.title)?"line-through":""])},l(n.net_price)+"\u20AC",3)])])],10,le)}),128)):m("",!0)]))),128))])):m("",!0),s("div",be,[t(z)[t(C).next]?(i(),A(V,{key:0,class:"mt-10",outline:"",onClick:R(t(N),["stop"]),disabled:!t(T)},{default:w(()=>[ve]),_:1},8,["onClick","disabled"])):m("",!0),!t(z)[t(C).next]&&t(r).different_services?(i(),A(V,{key:1,class:"mt-10",outline:"",onClick:R(D,["stop"])},{default:w(()=>[fe]),_:1},8,["onClick"])):m("",!0)])])}}};export{Ce as default};
