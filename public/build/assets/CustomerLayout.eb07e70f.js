import{o as r,e as a,b as t,g as x,W as v,y as oe,r as P,c as f,U as o,$ as se,w as n,a as e,q as g,J as w,Q as c,K as p,a4 as M,L as j,Z as L,aa as re,ab as ne,O,S as m,ac as q,a5 as le,X as y,Y as V,I as $}from"./app.c248d67c.js";import{L as ae}from"./Logo.d971df1b.js";import{F as ie}from"./Footer.0f48e628.js";import{r as ce}from"./XIcon.0ce515ba.js";import{r as A}from"./PencilIcon.50f1eb3f.js";import{J as ue,G as de,A as he}from"./disclosure.e9de6139.js";import{f as fe,m as pe,p as me,v as N}from"./menu.6da08311.js";function G(d,l){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}function be(d,l){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})])}function _e(d,l){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])}function xe(d,l){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])}function ve(d,l){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})])}function J(d,l){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})])}function ge(d,l){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})])}function we(d,l){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})])}function ye(d,l){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])}const ke={class:"min-h-screen bg-white flex flex-col justify-between"},Ce={class:"mx-auto px-4 sm:px-6 lg:px-8 py-2"},Me={class:"flex justify-between h-16"},je={class:"flex justify-between items-center flex-grow"},ze=e("div",{class:"-mr-2 flex items-center sm:hidden"},null,-1),Be={class:"flex-shrink-0 flex items-center"},Pe={class:"hidden items-center sm:-my-px sm:ml-6 sm:flex sm:space-x-2 lg:space-x-8"},Le=["href","aria-current"],Ve=m(" Prenota "),$e=e("span",{class:"sr-only"},"Open user menu",-1),Ne=["src"],Ie=["href"],Se=["href"],He={class:"block sm:hidden"},De=["onClick"],Te=e("span",{class:"sr-only"},"Toggle user menu",-1),Fe=["src"],Oe={key:1,class:"h-8 w-8 bg-bb-gray-100 rounded-full grid place-items-center"},qe={class:"fixed z-10 top-20 left-0 bottom-0 w-full bg-white flex flex-col"},Ae={class:"flex-1 flex flex-col items-center pt-7"},Ge={class:"flex flex-col justify-start items-center"},Je={class:"relative inline-block"},Ee=["src"],Ke={class:"mt-3 text-bb-blue-500 text-md font-bold"},Qe=m(" Visualizza profilo "),Re={class:"mt-5 flex-1 w-full overflow-auto px-7 pb-8 max-h-[calc(100vh-277px)]"},Ue={class:"space-y-1 px-2 divide-y"},We={class:"flex items-center"},Xe=["href"],Ye={class:"flex items-center"},Ze=m(" Logout "),et={class:"pt-2 pb-3 space-y-1"},tt={class:"pt-20 sm:pt-0 pb-10 sm:py-10 grow"},ot={class:"mx-auto w-full max-w-7xl flex-grow lg:flex xl:px-8 scroll-auto"},st={class:"min-w-0 flex-1 bg-white md:flex"},rt={class:"h-full py-6 pl-4 pr-6 sm:pl-6 lg:pl-8 xl:pl-0"},nt={class:"bb-card bg-bb-lilla-200 py-5"},lt={class:"flex flex-col justify-start items-center"},at={class:"relative inline-block"},it=["src"],ct={class:"mt-3 text-bb-blue-500 text-md font-bold"},ut={class:"text-xs"},dt=e("div",{class:"bg-white h-[1px] mx-2 mb-4 mt-4"},null,-1),ht={class:"mt-5 flex-1","aria-label":"Sidebar"},ft={class:"space-y-1 px-2"},pt=m(" Logout "),mt={class:"bg-white lg:min-w-0 flex-1 md:pr-4 xl:pr-0"},bt={class:"h-full py-6 px-4 sm:px-6 lg:px-8"},_t=e("p",{class:"text-bb-blue-500 text-md font-bold"}," Carica la tua foto profilo! ",-1),xt=e("span",null,"In questo modo ci aiuterai a riconoscerti quando ti presenterai nello store!",-1),vt=m(" Non ora "),gt=m(" Carica foto "),Bt={__name:"CustomerLayout",props:{title:String,showTitle:{type:Boolean,default:!0}},setup(d){const l=x(()=>v().props.value.user),k=x(()=>v().props.value.impersonate),E=x(()=>k.value?!1:v().props.value.booking_locked),K=x(()=>!route().current("buy.subscription.checkout")&&v().props.value.customer.photo_profile_remember),C=x(()=>v().props.value.customer.notifications_count);oe(()=>{K.value&&z.value.open()});const z=P(null);function Q(){y.Inertia.post(route("customer.photoProfileModal.hide"),{},{onSuccess:()=>{z.value.close()}})}function R(){y.Inertia.post(route("customer.photoProfileModal.hide"),{},{onSuccess:()=>{y.Inertia.visit(route("customer.profile"))}})}const I=[],S=[{name:"Dashboard",href:route("customer.dashboard"),current:route().current("customer.dashboard"),icon:be},{name:"Appuntamenti",href:route("customer.bookings.future"),current:route().current("customer.bookings.*"),icon:_e},{name:"Profilo",href:route("customer.profile"),current:route().current("customer.profile"),icon:ye},{name:"Abbonamenti",href:route("plan.detail"),current:!1,icon:we},{name:"Gallery",href:route("customer.gallery"),current:route().current("customer.gallery"),icon:ge},{name:"Pagamenti",href:route("customer.payments"),current:route().current("customer.payments"),icon:ve},{name:"Notifiche",href:route("customer.notifications"),current:route().current("customer.notifications"),icon:xe}],U=[{name:"Profilo",href:route("customer.profile")},{name:"Pagamenti",href:route("customer.payments")}],B=()=>{y.Inertia.post(route("logout"))},b=P(null),H=()=>{b.value.click()},D=()=>{if(b.value.files[0].size>2e6){V.flash({type:"error",message:"Non puoi caricare un'immagine pi\xF9 grande di 2 MB"});return}y.Inertia.post(route("customer.profile.photo.update"),{photo:b.value.files[0]},{preserveScroll:!0,forceFormData:!0,onSuccess:h=>{V.lg(h),W(),V.flash(h.props.flash)}})},W=()=>{var i;(i=b.value)!=null&&i.value&&(b.value.value=null)},_=P(!1),T=document.querySelector("body");function X(i=null){(i!==null?!i:_.value)?(T.style.overflow="initial",_.value=!1):(T.style.overflow="hidden",_.value=!0)}return(i,h)=>{const Y=$("bb-button"),F=$("BbButton"),Z=$("BbDialog");return r(),f("div",ke,[t(o(se),{title:d.title},null,8,["title"]),t(o(he),{as:"nav",class:"fixed z-20 sm:static w-full bg-white shadow-md sm:shadow-sm"},{default:n(({open:u,close:ee})=>[e("div",Ce,[e("div",Me,[e("div",je,[ze,e("div",Be,[t(ae,{light:!1})]),e("div",Pe,[(r(),f(g,null,w(I,s=>e("a",{key:s.name,href:s.href,class:c([s.current?"text-bb-blue-700":"border-transparent text-bb-blue-500 hover:text-bb-gray-700","inline-flex items-center px-1 pt-1 text-sm font-semibold"]),"aria-current":s.current?"page":void 0},p(s.name),11,Le)),64)),o(E)?j("",!0):(r(),a(o(M),{key:0,href:i.route("booking.wizard")},{default:n(()=>[t(Y,{type:"button",class:"hidden sm:block px-4 lg:px-8 py-1 text-sm"},{default:n(()=>[Ve]),_:1})]),_:1},8,["href"])),t(o(fe),{as:"div",class:"hidden sm:block ml-3 relative"},{default:n(()=>[e("div",null,[t(o(pe),{class:"max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:n(()=>[$e,e("img",{class:"h-8 w-8 rounded-full object-cover",src:o(l).profile_photo_url,alt:""},null,8,Ne)]),_:1})]),t(L,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:n(()=>[t(o(me),{class:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[(r(),f(g,null,w(U,s=>t(o(N),{key:s.name},{default:n(({active:te})=>[e("a",{href:s.href,class:c([te?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},p(s.name),11,Ie)]),_:2},1024)),64)),t(o(N),null,{default:n(({active:s})=>[e("a",{onClick:B,class:c([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Log out ",2)]),_:1}),o(k)?(r(),a(o(N),{key:0},{default:n(({active:s})=>[e("a",{href:i.route("impersonate.leave"),class:c([s?"bg-gray-100":"","block px-4 py-2 text-sm text-bb-danger cursor-pointer"])}," Torna amministratore ",10,Se)]),_:1})):j("",!0)]),_:1})]),_:1})]),_:1})]),e("div",He,[e("button",{onClick:()=>{X(),ee()}},[Te,_.value?(r(),f("div",Oe,[t(o(ce),{class:"h-5 w-5"})])):(r(),f("img",{key:0,class:"h-8 w-8 rounded-full object-cover",src:o(l).profile_photo_url},null,8,Fe))],8,De),(r(),a(q,{to:"body"},[t(L,{"enter-active-class":"transition ease-out duration-150","enter-from-class":"transform opacity-0","enter-to-class":"transform opacity-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100","leave-to-class":"transform opacity-0"},{default:n(()=>[re(e("div",qe,[e("div",Ae,[e("div",Ge,[e("div",Je,[e("img",{class:"h-24 w-24 rounded-full object-cover",src:o(l).profile_photo_url,alt:""},null,8,Ee),t(o(A),{onClick:H,class:"absolute bottom-0 right-0 block h-6 w-6 p-1 rounded-full bg-white text-bb-blue-500 cursor-pointer"}),e("input",{ref_key:"photoInput",ref:b,type:"file",class:"hidden",accept:".jpg, .jpeg, .png",onChange:D},null,544)]),e("p",Ke,p(o(l).full_name),1),t(o(M),{href:i.route("customer.profile"),class:"text-xs underline"},{default:n(()=>[Qe]),_:1},8,["href"])]),e("nav",Re,[e("div",Ue,[(r(),f(g,null,w(S,s=>e("div",{key:s.name,class:"pt-1"},[t(o(M),{href:s.href,class:c([s.current?"text-white bg-bb-lightblue":"text-bb-blue-500","group flex items-center justify-between px-4 py-2 font-semibold rounded-full"])},{default:n(()=>[e("div",We,[(r(),a(O(s.icon),{class:c([s.current?"text-white":"text-bb-blue-500","mr-3 h-6 w-6 stroke-1"]),"aria-hidden":"true"},null,8,["class"])),m(" "+p(s.name)+" ",1),s.name==="Notifiche"&&o(C)>0?(r(),f("span",{key:0,class:c([s.current?"bg-white text-bb-blue-500":"bg-bb-blue-500 text-white group-hover:bg-white group-hover:text-bb-blue-500","inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ml-2"])},p(o(C)),3)):j("",!0)]),t(o(G),{class:"h4 w-4"})]),_:2},1032,["href","class"])])),64)),e("a",{onClick:h[0]||(h[0]=()=>o(k)?null:B()),href:o(k)?i.route("impersonate.leave"):"#",class:"text-bb-blue-500 group flex items-center justify-between px-4 py-2 cursor-pointer font-bold rounded-md"},[e("div",Ye,[t(o(J),{class:"text-bb-blue-500 mr-3 h-6 w-6 stroke-1"}),Ze]),t(o(G),{class:"h4 w-4"})],8,Xe)])])])],512),[[ne,_.value]])]),_:1})]))])])])]),(r(),a(q,{to:"body"},[t(L,{"enter-active-class":"transition ease-out duration-150","enter-from-class":"transform opacity-0","enter-to-class":"transform opacity-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100","leave-to-class":"transform opacity-0"},{default:n(()=>[t(o(ue),{class:"sm:hidden fixed z-10 top-20 left-0 bottom-0 w-full bg-white"},{default:n(()=>[e("div",et,[(r(),f(g,null,w(I,s=>t(o(de),{key:s.name,as:"a",href:s.href,class:c([s.current?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),"aria-current":s.current?"page":void 0},{default:n(()=>[m(p(s.name),1)]),_:2},1032,["href","class","aria-current"])),64))])]),_:1})]),_:1})]))]),_:1}),e("div",tt,[e("main",null,[e("div",ot,[e("div",st,[e("div",{class:c(["hidden bg-white xl:w-64 xl:flex-shrink-0",{"sm:block":!i.route().current("buy.subscription.checkout")}])},[e("div",rt,[e("div",nt,[e("div",lt,[e("div",at,[e("img",{class:"h-24 w-24 rounded-full object-cover",src:o(l).profile_photo_url,alt:""},null,8,it),t(o(A),{onClick:H,class:"absolute bottom-0 right-0 block h-6 w-6 p-1 rounded-full bg-white text-bb-blue-500 cursor-pointer"}),e("input",{ref_key:"photoInput",ref:b,type:"file",class:"hidden",accept:".jpg, .jpeg, .png",onChange:D},null,544)]),e("p",ct,p(o(l).full_name),1),e("p",ut,p(o(l).email),1)]),dt,e("div",null,[e("nav",ht,[e("div",ft,[(r(),f(g,null,w(S,u=>t(o(M),{key:u.name,href:u.href,class:c([u.current?"text-white":"text-bb-blue-500 hover:text-white","group flex items-center px-2 py-2 text-sm font-bold rounded-md"])},{default:n(()=>[(r(),a(O(u.icon),{class:c([u.current?"text-white":"text-bb-blue-500 group-hover:text-white","mr-3 h-6 w-6 stroke-1"]),"aria-hidden":"true"},null,8,["class"])),m(" "+p(u.name)+" ",1),u.name==="Notifiche"&&o(C)>0?(r(),f("span",{key:0,class:c([u.current?"bg-white text-bb-blue-500":"bg-bb-blue-500 text-white group-hover:bg-white group-hover:text-bb-blue-500","inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ml-2"])},p(o(C)),3)):j("",!0)]),_:2},1032,["href","class"])),64)),e("a",{onClick:B,class:"text-bb-blue-500 hover:text-white group flex items-center px-2 py-2 text-sm font-bold rounded-md"},[t(o(J),{class:"text-bb-blue-500 group-hover:text-white mr-3 h-6 w-6 stroke-1"}),pt])])])])])])],2),e("div",mt,[e("div",bt,[le(i.$slots,"default")])])])])])]),t(Z,{ref_key:"photoProfileModal",ref:z,type:"plain",size:"md","no-cancel":!0},{title:n(()=>[_t]),buttons:n(()=>[t(F,{secondary:"",light:"",onClick:h[1]||(h[1]=u=>Q())},{default:n(()=>[vt]),_:1}),t(F,{primary:"",onClick:h[2]||(h[2]=u=>R())},{default:n(()=>[gt]),_:1})]),default:n(()=>[xt]),_:1},512),t(ie)])}}};export{Bt as _};
