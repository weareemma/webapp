import{g as N,r as n,o as _,e as T,w as s,W as P,a as e,b as l,U as r,ag as A,Q as E,c as k,L as y,S as c,X as f,Y as w,I as a}from"./app.c248d67c.js";import{_ as L}from"./AppLayout.4269b78a.js";import{B as O}from"./Table.94a0e2ae.js";import{B as U}from"./SearchInput.2608ef07.js";import{u as F}from"./search.181f2eee.js";import"./Logo.d971df1b.js";import"./wizardStore.2226bc2a.js";import"./menu.6da08311.js";import"./ChevronDownIcon.f3847a45.js";import"./CheckIcon.5f685430.js";import"./XIcon.0ce515ba.js";import"./PencilIcon.50f1eb3f.js";import"./RefreshIcon.6547917e.js";const M={class:"flex justify-between mb-4"},Q={class:"w-1/2"},R={class:"grow flex justify-end gap-x-3 mr-3"},$=c("Refresh"),q=e("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M10 5C14.9706 5 19 4.10457 19 3C19 1.89543 14.9706 1 10 1C5.02944 1 1 1.89543 1 3C1 4.10457 5.02944 5 10 5Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M1 3C1 5.23 4.871 9.674 6.856 11.805C7.58416 12.5769 7.99291 13.5959 8 14.657V20L12 18V14.657C12 13.596 12.421 12.582 13.144 11.805C15.13 9.674 19 5.231 19 3","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),W=[q],X=e("h3",{class:"text-bb-blue-500 font-bold mb-2"},"Filtri",-1),Y={class:"flex justify-start items-center gap-4 flex-wrap"},Z={class:"min-w-[225px]"},G=c("Tipologia"),H={class:"bb-card"},J={class:"flex justify-start"},K={key:0,class:"block h-4 w-4 rounded-full bg-bb-green-300 ring-0 ring-white"},ee={key:1,class:"block h-4 w-4 rounded-full bg-bb-red-400 ring-0 ring-white"},te=c(" Elimina Servizio "),oe=e("span",null,"Sei sicuro di voler eliminare questo servizio?",-1),se=c(" Elimina "),he={__name:"Index",props:{models:Object},setup(h){N(()=>P().props.value.role);const{searchQuery:d,isSearching:x,filters:v}=F("hairService.index",{type:route().params.type}),u=n(!1),b=n(null),g=n(null),p=n(!1);function S(i,t){switch(i){case"edit":f.Inertia.visit(route("hairService.edit",t.id));break;case"delete":g.value=t,b.value.open();break}}function B(){p.value=!0,f.Inertia.delete(route("hairService.destroy",g.value.id),{onSuccess:i=>{b.value.close(),p.value=!1,w.flash(i.props.flash)}})}const m=n(!1);function C(){m.value=!0,f.Inertia.post(route("hairService.sync"),{},{onSuccess:i=>{w.flash(i.props.flash)},onFinish:()=>{m.value=!1}})}return(i,t)=>{const V=a("bb-button"),z=a("bb-label"),j=a("bb-select"),D=a("BbButton"),I=a("BbDialog");return _(),T(L,{title:"Servizi"},{default:s(()=>[e("div",M,[e("div",Q,[l(U,{searching:r(x),modelValue:r(d),"onUpdate:modelValue":t[0]||(t[0]=o=>A(d)?d.value=o:null)},null,8,["searching","modelValue"])]),e("div",R,[l(V,{disabled:m.value,onClick:C,type:"button"},{default:s(()=>[$]),_:1},8,["disabled"]),e("button",{class:"bb-button-style-filter",type:"button",onClick:t[1]||(t[1]=o=>u.value=!u.value)},W)])]),e("div",{class:E("bb-card mb-3 px-7 py-5 "+(u.value?"block":"hidden"))},[X,e("div",Y,[e("div",Z,[l(z,{class:"text-sm mb-1"},{default:s(()=>[G]),_:1}),l(j,{mode:"single",class:"w-full",placeholder:"Seleziona un'opzione","close-on-select":!0,options:{primary:"Primario",addon:"Addon"},modelValue:r(v).type,"onUpdate:modelValue":t[2]||(t[2]=o=>r(v).type=o)},null,8,["modelValue"])])])],2),e("div",H,[l(O,{collection:h.models.data,columns:[{key:"title",label:"Nome",classes:"font-bold"},{key:"level_label",label:"Livello"},{key:"execution_time",label:"Durata"},{key:"net_price",label:"Prezzo"},{key:"order",label:"Ordine"},{slot:"active",label:"Stato"}],links:h.models.links,actions:[{name:"edit",condition:o=>!0}],onAction:t[3]||(t[3]=o=>S(o.action,o.item))},{active:s(({item:o})=>[e("div",J,[o.active?(_(),k("span",K)):y("",!0),o.active?y("",!0):(_(),k("span",ee))])]),_:1},8,["collection","links","actions"])]),l(I,{ref_key:"deleteDialog",ref:b,type:"plain",size:"sm"},{title:s(()=>[te]),buttons:s(()=>[l(D,{danger:"",disabled:p.value,onClick:B},{default:s(()=>[se]),_:1},8,["disabled"])]),default:s(()=>[oe]),_:1},512)]),_:1})}}};export{he as default};
