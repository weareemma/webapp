import{V as U,r as $,y as I,Y as v,o as n,c as a,a as s,U as e,ae as x,L as m,q as f,J as b,e as V,w as j,I as L,Q as p,K as c,b as T,S as N,E as B}from"./app.c248d67c.js";import{u as M}from"./wizardStore.2226bc2a.js";import{r as E}from"./ClockIcon.a6d9947b.js";const q=s("div",{class:"text-center mb-16"}," Seleziona il raccolto che desideri prenotare ",-1),D={class:"max-w-xl mx-auto"},F={class:"text-right mb-10"},G=["disabled"],J=["onClick","disabled"],K={key:0,class:"grid lg:grid-cols-2 gap-6 mb-8"},Q=["onClick"],W={class:"text-bb-gray-900"},Y={class:"flex items-center justify-between text-white"},H={class:"flex items-center space-x-2"},O={class:"flex items-center space-x-2"},X={key:0},Z={key:1,class:"flex flex-col justify-center items-center mt-8"},ee={class:"mb-8"},te={class:"sm:hidden"},se=s("label",{for:"tabs",class:"sr-only"},null,-1),ne={id:"tabs",name:"tabs",class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500"},ie=["selected"],ae={class:"hidden sm:block"},le={class:"flex space-x-4","aria-label":"Tabs"},ce=["aria-current","onClick"],oe=["onClick"],re={class:"text-bb-gray-900"},de={class:"flex items-center justify-between text-white"},_e={class:"flex items-center space-x-2"},ue={class:"flex items-center space-x-2"},me={key:0,class:"flex gap-x-1"},ve={class:"line-through"},fe={key:1},be={class:"flex justify-center"},he=N(" Avanti "),xe=N(" Prossima amica "),Ce={__name:"StepUpdo",setup(pe){const A=M(),{isValid:y,activeStep:w,people:i,wizardSelection:l,wizardGeneral:C,ready:k}=U(A);B("prev");const g=B("next"),o=$(i.value[0].name),R=d=>{o.value=d},S=()=>{let d=i.value.findIndex(_=>_.name===o.value)+1;i.value[d]&&(o.value=i.value[d].name)};I(()=>{v.lg(o.value)});function h(d,_){let u=i.value.find(t=>t.name===d);return u.addons.updo.length>0?u.addons.updo[0].id===_.id:!1}function P(d,_){i.value.forEach(u=>{(u.name===_||!l.value.different_services)&&(u.addons.updo=[],u.addons.updo.push(d))})}function z(d){i.value.forEach(_=>{(_.name===d||!l.value.different_services)&&(_.addons.updo=[])})}return(d,_)=>{const u=L("bb-button");return n(),a("div",null,[q,s("div",D,[s("div",F,[e(y)[e(w).next]&&(e(l).different_services&&o.value===e(i)[e(i).length-1].name||!e(l).different_services)?(n(),a("a",{key:0,class:"cursor-pointer underline",onClick:_[0]||(_[0]=x((...t)=>e(g)&&e(g)(...t),["stop"])),disabled:!e(k)}," Salta Raccolti > ",8,G)):m("",!0),e(l).different_services&&o.value!==e(i)[e(i).length-1].name?(n(),a("a",{key:1,class:"cursor-pointer underline",onClick:x(S,["stop"]),disabled:!e(k)}," Salta Raccolti > ",8,J)):m("",!0)])]),e(l).different_services?m("",!0):(n(),a("div",K,[(n(!0),a(f,null,b(e(i)[0].services_selection.updo,t=>(n(),a("div",{key:t.id,class:p(["bb-wizard__selectable-card",{"bb-wizard__selectable-card--active":h(0,t)}]),onClick:r=>h(0,t)?z(0):P(t,0)},[s("h3",null,c(t.title),1),s("div",W,c(t.description),1),s("div",Y,[s("div",H,[T(e(E),{class:"w-4 h-4"}),s("div",null,c(t.execution_time_fe)+"'",1)]),s("div",O,[s("span",{class:p(e(C).subscribed&&!e(l).multiple?"line-through":"")},c(e(v).printPrice(t.net_price))+"\u20AC",3),e(C).subscribed&&!e(l).multiple?(n(),a("span",X,c(e(v).printPrice(t.net_price_discounted))+"\u20AC",1)):m("",!0)])])],10,Q))),128))])),e(l).multiple&&e(l).different_services?(n(),a("div",Z,[s("div",ee,[s("div",te,[se,s("select",ne,[(n(!0),a(f,null,b(e(i),t=>(n(),a("option",{key:t.name,selected:t.name===o.value},c(t.name===0?"Tu":"Amica "+t.name),9,ie))),128))])]),s("div",ae,[s("nav",le,[(n(!0),a(f,null,b(e(i),t=>(n(),a("button",{key:t.name,class:p([t.name===o.value?"bg-bb-blue-500 text-white":"text-bb-blue-400 hover:text-bb-blue-700","px-6 py-1.5 font-bold text-sm rounded-full"]),"aria-current":t.name===o.value?"page":void 0,onClick:r=>R(t.name)},c(t.name===0?"Tu":"Amica "+t.name),11,ce))),128))])])]),(n(!0),a(f,null,b(e(i),t=>(n(),a("div",{key:t.name,class:"grid lg:grid-cols-2 gap-6"},[o.value===t.name?(n(!0),a(f,{key:0},b(t.services_selection.updo,r=>(n(),a("div",{key:r.id,class:p(["bb-wizard__selectable-card",{"bb-wizard__selectable-card--active":h(t.name,r)}]),onClick:ke=>h(t.name,r)?z(t.name):P(r,t.name)},[s("h3",null,c(r.title),1),s("div",re,c(r.description),1),s("div",de,[s("div",_e,[T(e(E),{class:"w-4 h-4"}),s("div",null,c(r.execution_time_fe)+"'",1)]),s("div",ue,[t.name===0?(n(),a("div",me,[s("span",ve,c(e(v).printPrice(r.net_price))+"\u20AC",1),s("span",null,c(e(v).printPrice(r.net_price_discounted))+"\u20AC",1)])):(n(),a("div",fe,c(r.net_price)+"\u20AC ",1))])])],10,oe))),128)):m("",!0)]))),128))])):m("",!0),s("div",be,[e(y)[e(w).next]&&(e(l).different_services&&o.value===e(i)[e(i).length-1].name||!e(l).different_services)?(n(),V(u,{key:0,class:"mt-10",outline:"",onClick:x(e(g),["stop"]),disabled:!e(k)},{default:j(()=>[he]),_:1},8,["onClick","disabled"])):m("",!0),e(l).different_services&&o.value!==e(i)[e(i).length-1].name?(n(),V(u,{key:1,class:"mt-10",outline:"",onClick:x(S,["stop"])},{default:j(()=>[xe]),_:1},8,["onClick"])):m("",!0)])])}}};export{Ce as default};
