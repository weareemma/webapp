import{_ as O,r as P,a9 as H,E as I,I as C,o as m,c as b,a as t,ae as B,U as s,b as r,Q as x,K as N,L as k,w as j,S as R,an as M,ao as K,d as Y,X as L,p as h,e as F,V as se,ap as oe,aq as A,q as E,a5 as W,J as ae,am as X}from"./app.45a2e0de.js";import{L as le}from"./Logo.1cde1930.js";import{_ as re}from"./Checkbox.b9165bc2.js";import{u as ne}from"./wizardStore.ef397de9.js";const U=u=>(M("data-v-6a74532d"),u=u(),K(),u),ie={class:"px-4 py-5"},de={key:0},ce=U(()=>t("h3",{class:"text-center mt-4 mb-5"},"Controlla la tua email!",-1)),ue=U(()=>t("h6",{class:"text-center mb-8"},"Abbiamo inviato un\u2019email all\u2019indirizzo che ci hai indicato. Segui le istruzioni per reimpostare la password.",-1)),me={class:"text-center mb-2"},pe=R("Non hai ricevuto l\u2019email? "),_e={key:1},fe=U(()=>t("h3",{class:"text-center mt-4 mb-5"},"Password dimenticata?",-1)),be=U(()=>t("h6",{class:"text-center mb-8"},"Inserisci la tua email. Ti invieremo le istruzioni per reimpostare la tua password.",-1)),ge=["onSubmit"],ve={class:"sm:col-span-4 my-4"},he=U(()=>t("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email ",-1)),ye={class:"mt-1"},we={key:0,class:"mt-2 text-sm text-red-600",id:"email-error"},xe={class:"flex justify-between items-center"},$e=R(" Invia "),ke={__name:"Forgot",setup(u){const $=P(!1),e=H({email:""}),o=()=>{e.transform(a=>({...a,no_redirect:!0,route:route().current()})).post(route("password.email"),{onSuccess:()=>$.value=!0})},v=I("goTo");return(a,p)=>{const y=C("bb-input"),n=C("bb-button");return m(),b("div",ie,[$.value?(m(),b("div",de,[ce,ue,t("h6",me,[pe,t("a",{class:"cursor-pointer",onClick:p[0]||(p[0]=B(f=>$.value=!1,["prevent"]))},"Rinvia")]),t("a",{class:"cursor-pointer",onClick:p[1]||(p[1]=B(f=>s(v)("login"),["prevent"]))},"Torna al login")])):(m(),b("div",_e,[fe,be,t("form",{onSubmit:B(o,["prevent"])},[t("div",ve,[he,t("div",ye,[r(y,{modelValue:s(e).email,"onUpdate:modelValue":p[2]||(p[2]=f=>s(e).email=f),id:"email",name:"email",type:"email",autocomplete:"email",class:x("shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm rounded-md "+(s(e).errors.email?"border-red-600":"border-gray-300")),required:"",autofocus:""},null,8,["modelValue","class"]),s(e).errors.email?(m(),b("p",we,N(s(e).errors.email),1)):k("",!0)])]),t("div",xe,[t("a",{class:"cursor-pointer",onClick:p[3]||(p[3]=B(f=>s(v)("login"),["prevent"]))},"Torna al login"),r(n,{class:x(["ml-4",{"opacity-25":s(e).processing}]),disabled:s(e).processing},{default:j(()=>[$e]),_:1},8,["class","disabled"])])],40,ge)]))])}}};var Se=O(ke,[["__scopeId","data-v-6a74532d"]]);const T=u=>(M("data-v-77cabf68"),u=u(),K(),u),Ve={class:"px-4 py-5"},Ie=T(()=>t("h3",{class:"text-center mt-0 mb-2"},"Registrati",-1)),Ce=T(()=>t("h6",{class:"text-center mt-0 mb-2"},"Inserisci i tuoi dati per registrarti",-1)),Be=["onSubmit"],Te={class:"sm:col-span-4 my-4"},ze=T(()=>t("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Nome ",-1)),Re={class:"mt-1"},De={class:"sm:col-span-4 my-4"},je=T(()=>t("label",{for:"surname",class:"block text-sm font-medium text-gray-700"}," Cognome ",-1)),Ue={class:"mt-1"},qe={class:"sm:col-span-4 my-4"},Fe=T(()=>t("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email ",-1)),Le={class:"mt-1"},Pe={class:"sm:col-span-4 my-4"},Ne=T(()=>t("label",{for:"phone",class:"block text-sm font-medium text-gray-700"}," Phone ",-1)),Ae={class:"mt-1"},Ee={class:"sm:col-span-4 my-4"},Oe=T(()=>t("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1)),He={class:"mt-1"},Me={class:"sm:col-span-4 my-4"},Ke=T(()=>t("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Conferma Password ",-1)),Je={class:"mt-1"},Ge={class:"sm:col-span-4 my-6"},Qe={class:"flex justify-start items-center gap-2"},We=R("Ho letto e accetto "),Xe=T(()=>t("a",{class:"text-bb-blue-500"},"i termini e le condizioni",-1)),Ye={class:"w-full"},Ze=R(" Registrati "),et=Y('<div class="relative my-5" data-v-77cabf68><div class="absolute inset-0 flex items-center" aria-hidden="true" data-v-77cabf68><div class="w-full border-t border-gray-300" data-v-77cabf68></div></div><div class="relative flex justify-center" data-v-77cabf68><span class="bg-white px-2 text-sm text-gray-500" data-v-77cabf68>Oppure</span></div></div>',1),tt={class:"text-center text-sm"},st=R("Hai un account? "),ot={__name:"Register",emits:["registered"],setup(u,{emit:$}){const e=H({name:"",surname:"",email:"",phone:"",password:"",password_confirmation:"",terms:!1}),o=async()=>{await v(),e.transform(y=>({...y,no_redirect:!0,route:route().current()})).post(route("register"),{onSuccess:()=>{a(),$("registered")},onFinish:()=>e.reset("password","password_confirmation")})},v=I("storeState"),a=I("close"),p=I("goTo");return(y,n)=>{const f=C("bb-input"),g=C("bb-input-validation"),i=C("bb-checkbox"),d=C("bb-label"),S=C("bb-button");return m(),b("div",Ve,[Ie,Ce,t("form",{onSubmit:B(o,["prevent"])},[t("div",Te,[ze,t("div",Re,[r(f,{modelValue:s(e).name,"onUpdate:modelValue":n[0]||(n[0]=c=>s(e).name=c),id:"name",name:"name",type:"text",autocomplete:"name",placeholder:"Mario",class:x("shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm rounded-md "+(s(e).errors.email?"border-red-600":"border-gray-300")),required:"",autofocus:""},null,8,["modelValue","class"]),r(g,{form:s(e),name:"name"},null,8,["form"])])]),t("div",De,[je,t("div",Ue,[r(f,{modelValue:s(e).surname,"onUpdate:modelValue":n[1]||(n[1]=c=>s(e).surname=c),id:"surname",name:"surname",type:"text",autocomplete:"surname",placeholder:"Bianchi",class:x("shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm rounded-md "+(s(e).errors.email?"border-red-600":"border-gray-300")),required:"",autofocus:""},null,8,["modelValue","class"]),r(g,{form:s(e),name:"surname"},null,8,["form"])])]),t("div",qe,[Fe,t("div",Le,[r(f,{modelValue:s(e).email,"onUpdate:modelValue":n[2]||(n[2]=c=>s(e).email=c),id:"email",name:"email",type:"email",autocomplete:"email",placeholder:"bianchi@gmail.com",class:x("shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm rounded-md "+(s(e).errors.email?"border-red-600":"border-gray-300")),required:"",autofocus:""},null,8,["modelValue","class"]),r(g,{form:s(e),name:"email"},null,8,["form"])])]),t("div",Pe,[Ne,t("div",Ae,[r(f,{modelValue:s(e).phone,"onUpdate:modelValue":n[3]||(n[3]=c=>s(e).phone=c),id:"phone",name:"phone",type:"text",autocomplete:"phone",placeholder:"+39...",class:x("shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm rounded-md "+(s(e).errors.email?"border-red-600":"border-gray-300")),required:"",autofocus:""},null,8,["modelValue","class"]),r(g,{form:s(e),name:"phone"},null,8,["form"])])]),t("div",Ee,[Oe,t("div",He,[r(f,{modelValue:s(e).password,"onUpdate:modelValue":n[4]||(n[4]=c=>s(e).password=c),id:"password",name:"password",type:"password",autocomplete:"password",placeholder:"Crea la tua password",class:x("shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm rounded-md "+(s(e).errors.password?"border-red-600":"border-gray-300")),required:""},null,8,["modelValue","class"]),r(g,{form:s(e),name:"password"},null,8,["form"])])]),t("div",Me,[Ke,t("div",Je,[r(f,{modelValue:s(e).password_confirmation,"onUpdate:modelValue":n[5]||(n[5]=c=>s(e).password_confirmation=c),id:"password_confirmation",name:"password_confirmation",type:"password",autocomplete:"password_confirmation",placeholder:"Ripeti la password",class:x("shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm rounded-md "+(s(e).errors.password?"border-red-600":"border-gray-300")),required:""},null,8,["modelValue","class"]),r(g,{form:s(e),name:"password_confirmation"},null,8,["form"])])]),t("div",Ge,[t("div",Qe,[r(i,{modelValue:s(e).terms,"onUpdate:modelValue":n[6]||(n[6]=c=>s(e).terms=c)},null,8,["modelValue"]),r(d,{class:"text-sm"},{default:j(()=>[We,Xe]),_:1})]),r(g,{form:s(e),name:"terms"},null,8,["form"])]),t("div",Ye,[r(S,{class:x(["w-full",{"opacity-25":s(e).processing}]),disabled:s(e).processing},{default:j(()=>[Ze]),_:1},8,["class","disabled"])]),et,t("div",null,[t("p",tt,[st,t("a",{onClick:n[7]||(n[7]=B(c=>s(p)("login"),["prevent"])),class:"text-bb-blue-500 font-extrabold cursor-pointer"},"Accedi")])])],40,Be)])}}};var at=O(ot,[["__scopeId","data-v-77cabf68"]]);const z=u=>(M("data-v-58703c3c"),u=u(),K(),u),lt={class:"px-4 py-5"},rt=z(()=>t("h3",{class:"text-center mt-0 mb-2"},"Login",-1)),nt=z(()=>t("h6",{class:"text-center mt-0 mb-2"},"Inserisci le credenziali per continuare",-1)),it=["onSubmit"],dt={class:"sm:col-span-4 my-4"},ct=z(()=>t("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email ",-1)),ut={class:"mt-1"},mt={key:0,class:"mt-2 text-sm text-red-600",id:"email-error"},pt={class:"sm:col-span-4 my-4"},_t=z(()=>t("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1)),ft={class:"mt-1"},bt={key:0,class:"mt-2 text-sm text-red-600",id:"password-error"},gt={class:"flex justify-between items-center my-4"},vt={class:"flex items-center"},ht=z(()=>t("span",{class:"ml-2 text-sm text-gray-600"},"Ricordami",-1)),yt={class:"w-full my-4"},wt=R(" Accedi "),xt={key:0},$t=Y('<div class="relative my-5" data-v-58703c3c><div class="absolute inset-0 flex items-center" aria-hidden="true" data-v-58703c3c><div class="w-full border-t border-gray-300" data-v-58703c3c></div></div><div class="relative flex justify-center" data-v-58703c3c><span class="bg-white px-2 text-sm text-gray-500" data-v-58703c3c>Oppure</span></div></div>',1),kt=z(()=>t("img",{class:"bb-social-login-logo",src:"/img/google.svg"},null,-1)),St=z(()=>t("div",{class:"w-full h-full flex items-center justify-center font-medium"},"Accedi con Google",-1)),Vt=[kt,St],It=z(()=>t("img",{class:"bb-social-login-logo",src:"/img/facebook.svg"},null,-1)),Ct=z(()=>t("div",{class:"w-full h-full flex items-center justify-center font-medium"},"Accedi con Facebook",-1)),Bt=[It,Ct],Tt={key:1},zt={class:"text-center text-sm"},Rt=R("Non hai un account? "),Dt={__name:"Login",emits:["loggedIn"],setup(u,{emit:$}){const e=H({email:"",password:"",remember:!1}),o=async()=>{await y(),e.transform(i=>({...i,no_redirect:!0,route:route().current(),remember:e.remember?"on":""})).post(route("login"),{onSuccess:()=>{p(),$("loggedIn")},onFinish:()=>e.reset("password")})},v=async i=>{await y(),L.Inertia.get(route("social.login",{provider:i,no_redirect:!0,route:route().current()}))},a=I("goTo"),p=I("close"),y=I("storeState"),n=I("registerButton"),f=I("socialButtons"),g=I("canResetPassword");return(i,d)=>{const S=C("bb-input"),c=C("bb-button");return m(),b("div",lt,[rt,nt,t("form",{onSubmit:B(o,["prevent"])},[t("div",dt,[ct,t("div",ut,[r(S,{modelValue:s(e).email,"onUpdate:modelValue":d[0]||(d[0]=w=>s(e).email=w),id:"email",name:"email",type:"email",autocomplete:"email",class:x("shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm rounded-md "+(s(e).errors.email?"border-red-600":"border-gray-300")),required:""},null,8,["modelValue","class"]),s(e).errors.email?(m(),b("p",mt,N(s(e).errors.email),1)):k("",!0)])]),t("div",pt,[_t,t("div",ft,[r(S,{modelValue:s(e).password,"onUpdate:modelValue":d[1]||(d[1]=w=>s(e).password=w),id:"password",name:"password",type:"password",autocomplete:"password",class:x("shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm rounded-md "+(s(e).errors.password?"border-red-600":"border-gray-300")),required:""},null,8,["modelValue","class"]),s(e).errors.password?(m(),b("p",bt,N(s(e).errors.password),1)):k("",!0)])]),t("div",gt,[t("label",vt,[r(re,{checked:s(e).remember,"onUpdate:checked":d[2]||(d[2]=w=>s(e).remember=w),name:"remember"},null,8,["checked"]),ht]),s(g)?(m(),b("a",{key:0,onClick:d[3]||(d[3]=B(w=>s(a)("forgot"),["prevent"])),class:"underline text-sm text-gray-600 hover:text-gray-900 cursor-pointer"}," Hai dimenticato la password? ")):k("",!0)]),t("div",yt,[r(c,{class:x(["w-full",{"opacity-25":s(e).processing}]),disabled:s(e).processing},{default:j(()=>[wt]),_:1},8,["class","disabled"])]),s(f)?(m(),b("div",xt,[$t,t("div",{onClick:d[4]||(d[4]=B(w=>v("google"),["prevent"])),class:"bb-social-login-btn",style:{height:"46px"}},Vt),t("div",{onClick:d[5]||(d[5]=B(w=>v("facebook"),["prevent"])),class:"bb-social-login-btn",style:{height:"46px"}},Bt)])):k("",!0),s(n)?(m(),b("div",Tt,[t("p",zt,[Rt,t("a",{onClick:d[6]||(d[6]=w=>s(a)("register")),class:"text-bb-blue-500 font-extrabold cursor-pointer"},"Registrati")])])):k("",!0)],40,it)])}}};var jt=O(Dt,[["__scopeId","data-v-58703c3c"]]);const Ut={class:"flex flex-row w-full justify-center"},qt={__name:"AuthModal",props:{localState:{type:Object,default:{}},localStateKey:{type:String,default:"wizardData"},canResetPassword:{type:Boolean,default:!0},socialButtons:{type:Boolean,default:!0},registerButton:{type:Boolean,default:!0}},emits:["loggedIn","registered"],setup(u,{expose:$,emit:e}){const o=u,v=P("login"),a=P(null);h("registerButton",o.registerButton),h("socialButtons",o.socialButtons),h("canResetPassword",o.canResetPassword);function p(){a.value.open()}function y(){a.value.close()}return h("close",y),h("storeState",async()=>{await localStorage.setItem(o.localStateKey,JSON.stringify(o.localState))}),h("goTo",g=>{v.value=g}),$({open:p}),(g,i)=>{const d=C("bb-dialog");return m(),F(d,{ref_key:"authModal",ref:a,size:"md","no-cancel":!0},{title:j(()=>[t("div",Ut,[r(le,{class:"mb-2",light:!1,linked:!1})])]),default:j(()=>[v.value==="login"?(m(),F(jt,{key:0,onLoggedIn:i[0]||(i[0]=S=>e("loggedIn"))})):k("",!0),v.value==="register"?(m(),F(at,{key:1,onRegistered:i[1]||(i[1]=S=>e("registered"))})):k("",!0),v.value==="forgot"?(m(),F(Se,{key:2})):k("",!0)]),_:1},512)}}},Ft={class:"bb-wizard"},Lt={class:"bb-wizard__title"},Pt={key:1},Nt={class:"bb-wizard__content"},Mt={__name:"Wizard",props:{modelValue:{type:Object,default:null},steps:{type:Array,default:[]},initialData:{type:Object,default:{}},showCallback:{type:Function,default:null},hideCallback:{type:Function,default:null}},emits:["update:modelValue","loggedIn","registered","linkSent"],setup(u,{expose:$,emit:e}){var J;const o=u,v=ne(),{activeStep:a,wizardSelection:p}=se(v),y=P(null),n=()=>{e("loggedIn")},f=()=>{e("registered")},g=()=>{y.value.open()},i=oe((J=A.cloneDeep({...o.modelValue}))!=null?J:A.cloneDeep(o.initialData));h("wizardData",i);function d(){a.value.value>0&&c(a.value.value-1)}h("prev",d);function S(l=null,_=!1){_&&e("linkSent"),l&&a.value.value>=o.steps.length-1&&L.Inertia.visit(l),a.value.value<o.steps.length-1&&(a.value.value===o.steps.length-2&&X.exports.isEmpty(L.Inertia.page.props.user)?g():c(a.value.value+1))}h("next",S);function c(l){if(l>-1){if(!ee(l))return;const _=a.value.value;te(l,_)}}function w(l){if(l==="step_checkout"&&X.exports.isEmpty(L.Inertia.page.props.user))return g();const _=o.steps.findIndex(V=>V.name==l);c(_)}function Z(){c(a.value.value)}h("goTo",w),h("goToIndex",c),h("reload",Z);function D(l=null){if(l&&typeof l=="object")for(const _ in l)i[_]=l[_],p.value.hasOwnProperty(_)&&(p.value[_]=l[_]);e("update:modelValue",A.cloneDeep(i))}h("updateData",D),D();function ee(l){const _=o.steps[l];let V=null;return"onBeforeShow"in _&&(V=_.onBeforeShow({wizardData:i})),V!==!1}function te(l,_){var Q;const V=o.steps[l],q=o.steps[_],G=l<((Q=o.steps)==null?void 0:Q.length)-1?o.steps[l+1].name:"";a.value.value=l,a.value.name=o.steps[l].name,a.value.next=G,i.activeStep={index:a.value.value,name:o.steps[a.value.value].name},"onShow"in V&&V.onShow({wizardData:i,prev:d,next:G}),"onHide"in q&&q.onHide({wizardData:i}),o.showCallback&&o.showCallback({wizardData:i,update:D}),o.hideCallback&&o.hideCallback({wizardData:i,update:D}),D()}return $({prevStep:d,nextStep:S,goToStep:c,goToStepByName:w,updateData:D}),(l,_)=>(m(),b("div",Ft,[u.steps.length?(m(),b(E,{key:0},[t("div",Lt,["title"in l.$slots?W(l.$slots,"title",{key:0,title:u.steps[s(a).value].title}):(m(),b("h2",Pt,N(u.steps[s(a).value].title),1))]),t("div",Nt,[(m(!0),b(E,null,ae(u.steps,(V,q)=>(m(),b(E,{key:V.name},[q==s(a).value?W(l.$slots,V.name,{key:0,wizardData:i,prev:d,next:S}):k("",!0)],64))),128))])],64)):k("",!0),r(qt,{ref_key:"authDialog",ref:y,"local-state":i,onLoggedIn:n,onRegistered:f},null,8,["local-state"])]))}};export{Mt as _};
