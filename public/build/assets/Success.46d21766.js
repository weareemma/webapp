import{r,W as i,g as G,y as it,Y as H,o as n,c,a as t,b as h,L as f,K as o,U as m,q as rt,J as nt,w as J,S as b,X as K,am as R,a8 as U,I as ct}from"./app.c248d67c.js";import{L as dt}from"./Logo.d971df1b.js";import{u as pt}from"./wizardStore.2226bc2a.js";const ut={class:"min-h-screen bg-white flex justify-center items-center relative"},mt={class:"w-full h-24 flex flex-row justify-center md:justify-start items-center absolute top-0 left-0"},_t={class:"md:mx-16 px-4 sm:px-6 lg:px-8 py-2"},ht={class:"w-full pt-24 pb-6 md:py-0"},ft=t("h1",{class:"title-xl capitalize text-center text-bb-primary-500"},"Grazie!",-1),bt={class:"w-full flex justify-center mx-auto md:max-w-2xl"},vt={key:0,class:"text-center p-6"},xt={class:"w-full flex flex-col md:flex-row justify-center"},yt={class:"bg-[#F7BC74] rounded-2xl flex justify-between mx-6 mt-6 md:max-w-3xl"},gt={class:"p-8 max-w-md"},kt={key:0},wt=t("p",{class:"font-bold text-white text-lg mb-6"}," Il tuo appuntamento ",-1),St={class:"text-bb-primary my-1 font-semibold"},Yt={class:"text-bb-primary my-1"},jt=t("p",{class:"text-white my-1 text-sm"},"Tu",-1),Ct={class:"text-bb-primary my-1"},Et={class:"text-white my-1 text-sm"},It={class:"text-bb-primary my-1"},Mt={key:1},Dt=t("p",{class:"font-bold text-white text-lg mb-6"}," Il tuo abbonamento ",-1),Lt={class:"text-bb-primary my-1 font-semibold"},Nt={key:0,class:"text-bb-primary my-1"},Vt={key:1,class:"text-bb-primary my-1"},zt=b(" Scade il "),Bt={class:"font-bold"},qt={key:2},Ft=t("p",{class:"font-bold text-white text-lg mb-6"}," Il tuo pacchetto ",-1),Tt={class:"text-bb-primary my-1 font-semibold"},At={class:"text-bb-primary my-1"},Pt={class:"text-bb-primary my-1"},Wt=b("Vai alla mia dashboard"),$t=t("div",{class:"hidden lg:flex lg:flex-col justify-end items-baseline pr-8 pt-8"},[t("img",{src:"/img/girl.png"})],-1),Gt={key:0,class:"bg-white rounded-2xl md:max-w-md shadow-lg p-8 mx-6 mt-6"},Ht=t("p",{class:"font-bold text-bb-primary text-lg mb-6"}," Carica la tua foto profilo! ",-1),Jt=t("p",{class:"text-bb-black my-1"}," In questo modo ci aiuterai a riconoscerti quando ti presenterai nello store! ",-1),Kt=b("Carica foto"),Qt={__name:"Success",setup(Rt){const X=r(i().props.value.promo_name),O=r(i().props.value.promo_expires),Q=pt();function Z(){Q.$reset(),K.Inertia.visit(route("home"))}function tt(e){return R.exports.isEmpty(e)?"":U(e).format("D MMM YYYY")}function et(e){let s=[];return!R.exports.isEmpty(e)&&e.length>0&&e.forEach(a=>{var l;s.push((l=a.service)==null?void 0:l.title)}),s}const u=r(""),v=r(""),x=r(""),y=r(""),_=r([]),st=G(()=>{let e="";return _.value.forEach((s,a)=>{e+=s,a!==_.value.length-1&&(e+=" + ")}),e}),g=r([]),ot=e=>{let s="";return e.forEach((a,l)=>{console.log(a,l),s+=a.service.title,l!==e.length-1&&(s+=" + ")}),s},d=r(null),p=r(null),at=G(()=>i().props.value.user);it(()=>{var e,s,a,l,k,w,S,Y,j,C,E,I,M,D,L,N,V,z,B,q,F,T,A,P,W,$;u.value=tt((a=(s=(e=i().props.value.flash)==null?void 0:e.data)==null?void 0:s.booking)==null?void 0:a.start_date),v.value=(w=(k=(l=i().props.value.flash)==null?void 0:l.data)==null?void 0:k.booking)==null?void 0:w.start,x.value=(C=(j=(Y=(S=i().props.value.flash)==null?void 0:S.data)==null?void 0:Y.booking)==null?void 0:j.store)==null?void 0:C.name,y.value=(D=(M=(I=(E=i().props.value.flash)==null?void 0:E.data)==null?void 0:I.booking)==null?void 0:M.store)==null?void 0:D.address,_.value=et((V=(N=(L=i().props.value.flash)==null?void 0:L.data)==null?void 0:N.booking)==null?void 0:V.slots),g.value=(q=(B=(z=i().props.value.flash)==null?void 0:z.data)==null?void 0:B.booking)==null?void 0:q.get_children,d.value=(T=(F=i().props.value.flash)==null?void 0:F.data)==null?void 0:T.subscription,p.value=(P=(A=i().props.value.flash)==null?void 0:A.data)==null?void 0:P.pack,H.lg(($=(W=i().props.value.flash)==null?void 0:W.data)==null?void 0:$.booking)});const lt=()=>{K.Inertia.visit(route("customer.profile"))};return(e,s)=>{const a=ct("bb-button");return n(),c("div",ut,[t("div",mt,[t("div",_t,[h(dt,{light:!1})])]),t("div",ht,[ft,t("div",bt,[u.value?(n(),c("p",vt," Il pagamento \xE8 andato a buon fine. Ricordati che puoi modificare o disdire il tuo appuntamento fino a 24h prima. ")):f("",!0)]),t("div",xt,[t("div",yt,[t("div",gt,[u.value?(n(),c("div",kt,[wt,t("p",St,o(u.value)+" ore "+o(v.value),1),t("p",Yt,o(x.value)+" - "+o(y.value),1),jt,t("p",Ct,o(m(st)),1),(n(!0),c(rt,null,nt(g.value,l=>(n(),c("div",null,[t("p",Et,"Amica "+o(l.guest),1),t("p",It,o(ot(l.slots)),1)]))),256))])):d.value?(n(),c("div",Mt,[Dt,t("p",Lt,o(d.value.plan.name),1),d.value.plan.name!==X.value?(n(),c("p",Nt,o(Math.round(d.value.price))+"\u20AC "+o(m(H).durationFormatted(d.value.duration)),1)):(n(),c("p",Vt,[zt,t("span",Bt,o(m(U)(O.value).format("DD/MM/YYYY")),1)]))])):p.value?(n(),c("div",qt,[Ft,t("p",Tt,o(p.value.name),1),t("p",At," Scade il "+o(p.value.expired_at),1),t("p",Pt,o(p.value.price)+" \u20AC ",1)])):f("",!0),h(a,{onClick:s[0]||(s[0]=l=>Z()),class:"mt-6",light:""},{default:J(()=>[Wt]),_:1})]),$t]),m(at).profile_photo_path===null?(n(),c("div",Gt,[Ht,Jt,h(a,{onClick:lt,class:"mt-6"},{default:J(()=>[Kt]),_:1})])):f("",!0)])])])}}};export{Qt as default};
