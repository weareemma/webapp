import{g as I,r as d,o as x,e as D,w as t,W as V,a as i,b as a,U as u,ag as w,a4 as z,Q as C,K as N,S as n,X as m,Y as g,I as p}from"./app.45a2e0de.js";import{_ as T}from"./AppLayout.f8630d45.js";import{B as j}from"./Table.e80badd5.js";import{B as A}from"./SearchInput.29274ae3.js";import{u as U}from"./search.6869db3c.js";import"./Logo.1cde1930.js";import"./wizardStore.ef397de9.js";import"./menu.365b37e7.js";import"./ChevronDownIcon.ec8df155.js";import"./CheckIcon.b71d4ea3.js";import"./XIcon.52e671f8.js";import"./PencilIcon.9b9a523e.js";import"./RefreshIcon.76168562.js";const E={class:"flex justify-between items-center mb-4"},Q={class:"w-1/2"},R={class:"flex justify-start gap-2"},K=n("Refresh Tanda"),L=n("Aggiungi"),O={class:"bb-card"},P=n(" Elimina Store "),W=i("span",null,"Una volta eliminato, non potrai pi\xF9 recuperare le informazioni.",-1),X=n(" Elimina "),ae={__name:"Index",props:{stores:Object},setup(b){I(()=>V().props.value.role);const{searchQuery:l,isSearching:h}=U("store.index"),r=d(null),_=d(null),c=d(!1);function v(s,o){switch(s){case"edit":m.Inertia.visit(route("store.edit",o.id));break;case"delete":_.value=o,r.value.open();break}}function k(){c.value=!0,m.Inertia.delete(route("store.destroy",_.value.id),{onSuccess:s=>{r.value.close(),c.value=!1,g.flash(s.props.flash)}})}function y(){m.Inertia.post(route("tanda.update.stores"),{},{onSuccess:s=>{g.flash(s)}})}return(s,o)=>{const f=p("bb-button"),B=p("BbButton"),S=p("BbDialog");return x(),D(T,{title:"Stores"},{default:t(()=>[i("div",E,[i("div",Q,[a(A,{searching:u(h),modelValue:u(l),"onUpdate:modelValue":o[0]||(o[0]=e=>w(l)?l.value=e:null)},null,8,["searching","modelValue"])]),i("div",R,[a(f,{onClick:y},{default:t(()=>[K]),_:1}),a(u(z),{href:s.route("store.create")},{default:t(()=>[a(f,{type:"button"},{default:t(()=>[L]),_:1})]),_:1},8,["href"])])]),i("div",O,[a(j,{collection:b.stores.data,columns:[{key:"name",label:"Nome",classes:"font-bold"},{key:"address",label:"Indirizzo"},{slot:"visible",label:"Visibile"},{key:"washing_stations",label:"n. post. lavaggio"},{key:"style_stations",label:"n. post. piega"}],links:b.stores.links,actions:[{name:"edit",condition:e=>!0},{name:"delete",condition:e=>!0}],onAction:o[1]||(o[1]=e=>v(e.action,e.item))},{visible:t(({item:e})=>[i("span",{class:C({"bb-badge-success":e.visible,"bb-badge-danger":!e.visible})},N(e.visible?"Si":"No"),3)]),_:1},8,["collection","columns","links","actions"])]),a(S,{ref_key:"deleteDialog",ref:r,type:"plain",size:"sm"},{title:t(()=>[P]),buttons:t(()=>[a(B,{danger:"",disabled:c.value,onClick:k},{default:t(()=>[X]),_:1},8,["disabled"])]),default:t(()=>[W]),_:1},512)]),_:1})}}};export{ae as default};
