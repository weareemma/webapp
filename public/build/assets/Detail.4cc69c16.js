import{y as S,r as l,W as d,o as s,e as b,w as r,a as t,c as o,J as x,Q as C,K as i,O as j,U as m,a4 as w,ae as A,S as u,q as _,a8 as Z,L as f,b as y,X as H,I as k}from"./app.c248d67c.js";import{_ as O}from"./CustomerLayout.eb07e70f.js";import{r as N}from"./CheckCircleIcon.e349a6b1.js";import"./Logo.d971df1b.js";import"./Footer.0f48e628.js";import"./XIcon.0ce515ba.js";import"./PencilIcon.50f1eb3f.js";import"./disclosure.e9de6139.js";import"./menu.6da08311.js";const P=t("div",null,null,-1),Y=t("p",{class:"text-bb-blue-500 font-bold text-lg mb-5"},"Abbonamenti",-1),z={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-10"},F=t("p",{class:"text-sm italic text-bb-lilla mb-1"},"Abbonamento",-1),I={class:"font-bold text-lg"},$={class:"text-sm my-3"},J={class:"flex justify-between items-center"},K=t("svg",{width:"22",height:"8",viewBox:"0 0 22 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M1 3.5C0.723858 3.5 0.5 3.72386 0.5 4C0.5 4.27614 0.723858 4.5 1 4.5V3.5ZM21.3536 4.35355C21.5488 4.15829 21.5488 3.84171 21.3536 3.64645L18.1716 0.464466C17.9763 0.269204 17.6597 0.269204 17.4645 0.464466C17.2692 0.659728 17.2692 0.976311 17.4645 1.17157L20.2929 4L17.4645 6.82843C17.2692 7.02369 17.2692 7.34027 17.4645 7.53553C17.6597 7.7308 17.9763 7.7308 18.1716 7.53553L21.3536 4.35355ZM1 4.5H21V3.5H1V4.5Z",fill:"black"})],-1),Q=t("svg",{width:"22",height:"8",viewBox:"0 0 22 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M1 3.5C0.723858 3.5 0.5 3.72386 0.5 4C0.5 4.27614 0.723858 4.5 1 4.5V3.5ZM21.3536 4.35355C21.5488 4.15829 21.5488 3.84171 21.3536 3.64645L18.1716 0.464466C17.9763 0.269204 17.6597 0.269204 17.4645 0.464466C17.2692 0.659728 17.2692 0.976311 17.4645 1.17157L20.2929 4L17.4645 6.82843C17.2692 7.02369 17.2692 7.34027 17.4645 7.53553C17.6597 7.7308 17.9763 7.7308 18.1716 7.53553L21.3536 4.35355ZM1 4.5H21V3.5H1V4.5Z",fill:"black"})],-1),T={key:1,class:"text-sm"},U={key:2,class:"inline-flex items-center rounded-full bg-[#C2EFB3] px-6 py-2.5 text-xs font-bold text-bb-blue-500"},W={key:3,class:"inline-flex items-center rounded-full bg-bb-danger px-6 py-2.5 text-xs font-bold text-white"},X={key:4,class:"text-bb-lilla font-semibold self-end"},G={key:0},R=t("p",{class:"text-bb-blue-500 font-bold text-lg mb-5"},"Pacchetti",-1),ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-10"},te={class:"grid grid-cols-2 gap-x-5"},se={class:"col-span-2"},oe=t("p",{class:"text-sm italic text-bb-lilla"},"Pacchetto",-1),ie={class:"font-bold text-lg"},ae={class:"text-md font-semibold text-bb-aqua-500 my-2"},ne={class:"text-sm mb-4"},ce={class:"flex flex-row-reverse justify-between items-center content-end"},le={key:1,class:"text-bb-lilla font-semibold"},re=["href"],de=t("svg",{width:"22",height:"8",viewBox:"0 0 22 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M1 3.5C0.723858 3.5 0.5 3.72386 0.5 4C0.5 4.27614 0.723858 4.5 1 4.5V3.5ZM21.3536 4.35355C21.5488 4.15829 21.5488 3.84171 21.3536 3.64645L18.1716 0.464466C17.9763 0.269204 17.6597 0.269204 17.4645 0.464466C17.2692 0.659728 17.2692 0.976311 17.4645 1.17157L20.2929 4L17.4645 6.82843C17.2692 7.02369 17.2692 7.34027 17.4645 7.53553C17.6597 7.7308 17.9763 7.7308 18.1716 7.53553L21.3536 4.35355ZM1 4.5H21V3.5H1V4.5Z",fill:"black"})],-1),ue=u(" Acquista "),be=[de,ue],me=u(" Conferma "),ke={__name:"Detail",props:{plan:Object,packs:Object,user_packs:Object,price:Object,subscription:Object,subscriptions:Object},setup(a){const L=a;S(()=>{});const B=l(d().props.value.promo_name);l(d().props.value.promo_expires);const M=l(d().props.value.promo_already),g=l(null);l(null),l(null);const h=l(d().props.value.customer.subscription_ends_at);l(d().props.value.customer.default_payment_method);const v=l(null);function V(c){v.value=c,g.value.open()}function q(){H.Inertia.visit(route("buy.subscription.checkout",v.value))}function n(c){var p;return c?c.stripe_product_id===((p=L.subscription)==null?void 0:p.name):!1}return(c,p)=>{const E=k("BbButton"),D=k("BbDialog");return s(),b(O,{title:"Dettaglio abbonamento"},{default:r(()=>[P,t("div",null,[Y,t("div",z,[(s(!0),o(_,null,x(a.subscriptions,e=>(s(),o("div",{key:e.id},[e.active||n(e)?(s(),o("div",{key:0,class:C([n(e)?"bg-[#C6E4E7]":"bg-white","bb-card p-6 hover:bg-[#C6E4E7] shadow-lg"])},[F,t("p",I,i(e.name),1),t("p",$,i(e.description),1),t("div",J,[e.name!==B.value?(s(),b(j(n(e)?m(w):"div"),{key:0,class:"text-sm font-semibold flex items-center gap-2 cursor-pointer",href:c.route("customer.plan.edit"),onClick:A(he=>n(e)?()=>{}:V(e.id),["prevent"])},{default:r(()=>[K,u(" "+i(n(e)?"Dettagli":a.subscription?"Passa a questo":"Acquista"),1)]),_:2},1032,["href","onClick"])):(s(),o(_,{key:1},[n(e)||!M.value?(s(),b(m(w),{key:0,class:"text-sm font-semibold flex items-center gap-2",href:n(e)?c.route("customer.plan.edit"):c.route("buy.subscription.checkout",e.id)},{default:r(()=>[Q,u(" "+i(n(e)?"Dettagli":a.subscription?"Passa a questo":"Acquista"),1)]),_:2},1032,["href"])):(s(),o("p",T,"Hai gi\xE0 usufruito di questo abbonamento"))],64)),n(e)&&h.value===null?(s(),o("span",U,"Attivo")):n(e)&&h.value?(s(),o("span",W,"Scade il "+i(m(Z)(h.value).format("D/M/YYYY")),1)):(s(),o("p",X,"Da "+i(Math.round(e.first_price))+" \u20AC",1))])],2)):f("",!0)]))),128))]),a.packs.length>0?(s(),o("div",G,[R,t("div",ee,[(s(!0),o(_,null,x(a.packs,e=>(s(),o("div",{class:C([a.user_packs.includes(e.id)?"bg-[#C6E4E7]":"bg-white","bb-card p-6 hover:bg-[#C6E4E7] shadow-lg"])},[t("div",te,[t("div",se,[oe,t("p",ie,i(e.name),1),t("p",ae,i(e.expired_at),1),t("p",ne,i(e.description),1),t("div",ce,[a.user_packs.includes(e.id)?(s(),b(m(N),{key:0,class:"h-5 w-5 text-bb-aqua-500"})):(s(),o("p",le,i(Math.round(e.price))+" \u20AC",1)),a.user_packs.includes(e.id)?f("",!0):(s(),o("a",{key:2,class:"text-sm font-semibold flex items-center gap-2",href:c.route("buy.package.checkout",e.id)},be,8,re))])])])],2))),256))])])):f("",!0)]),y(D,{ref_key:"confirmSwap",ref:g,type:"plain",size:"sm"},{title:r(()=>[u(i(a.subscription?"Cambio abbonamento":"Acquista abbonamento"),1)]),buttons:r(()=>[y(E,{primary:"",onClick:q},{default:r(()=>[me]),_:1})]),default:r(()=>[t("span",null,i(a.subscription?"Sei sicuro di voler cambiare abbonamento?":"Sei sicuro di voler acquistare questo abbonamento?"),1)]),_:1},512)]),_:1})}}};export{ke as default};
